<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Swayam - Course Learning</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-color: #2563eb;
            --primary-dark: #1e40af;
            --secondary-color: #7c3aed;
            --accent-color: #06b6d4;
            --bg-light: #ffffff;
            --bg-light-secondary: #f4f6f9;
            --bg-dark: #0d1117;
            --bg-dark-secondary: #161b22;
            --text-light: #0f172a;
            --text-light-secondary: #64748b;
            --text-dark: #e2e8f0;
            --text-dark-secondary: #94a3b8;
            --border-light: #e2e8f0;
            --border-dark: #30363d;
            --success-color: #10b981;
        }

        html, body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: var(--bg-light-secondary);
            color: var(--text-light);
            transition: background-color 0.3s ease, color 0.3s ease;
        }

        body.dark-mode {
            background: var(--bg-dark);
            color: var(--text-dark);
        }

        /* Navbar */
        .navbar {
            background: var(--bg-light);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }

        body.dark-mode .navbar {
            background: var(--bg-dark-secondary);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
        }

        .nav-container {
            max-width: 1600px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            height: 70px;
        }

        .nav-left, .nav-right {
            display: flex;
            align-items: center;
            gap: 20px;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 10px;
            font-size: 20px;
            font-weight: 700;
            color: var(--primary-color);
            text-decoration: none;
        }

        .nav-center {
            flex: 1;
            text-align: center;
            font-weight: 600;
            color: var(--text-light);
        }

        body.dark-mode .nav-center {
            color: var(--text-dark);
        }

        .course-title {
            font-size: 16px;
        }

        .theme-toggle {
            background: none;
            border: none;
            font-size: 18px;
            cursor: pointer;
            color: var(--text-light);
            transition: color 0.3s ease;
        }

        body.dark-mode .theme-toggle {
            color: var(--text-dark);
        }

        .user-menu {
            display: flex;
            align-items: center;
            gap: 12px;
            cursor: pointer;
        }

        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
        }

        .user-name {
            font-weight: 600;
            color: var(--text-light);
            font-size: 14px;
        }

        body.dark-mode .user-name {
            color: var(--text-dark);
        }

        .logout-btn {
            background: none;
            border: none;
            color: var(--text-light);
            cursor: pointer;
            font-size: 18px;
            transition: color 0.3s ease;
        }

        body.dark-mode .logout-btn {
            color: var(--text-dark);
        }

        .logout-btn:hover {
            color: #ef4444;
        }

        /* Course Container */
        .course-container {
            display: flex;
            height: calc(100vh - 70px);
            max-width: 1600px;
            margin: 0 auto;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--bg-light);
            border-right: 1px solid var(--border-light);
            padding: 20px;
            transition: transform 0.3s ease;
            display: flex;
            flex-direction: column;
            gap: 18px;
        }

        body.dark-mode .sidebar {
            background: var(--bg-dark-secondary);
            border-right-color: var(--border-dark);
        }

        .sidebar-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }

        .sidebar-header h3 {
            font-size: 16px;
            margin: 0;
        }

        .sidebar-toggle {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            color: var(--text-light-secondary);
            display: none;
        }

        body.dark-mode .sidebar-toggle {
            color: var(--text-dark-secondary);
        }

        /* Course Progress */
        .course-progress {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--bg-light-secondary);
            border-radius: 12px;
        }

        body.dark-mode .course-progress {
            background: var(--bg-dark);
        }

        .progress-circle {
            position: relative;
            width: 80px;
            height: 80px;
            margin: 0 auto 15px;
        }

        .progress-circle svg {
            transform: rotate(-90deg);
        }

        .progress-bg {
            fill: none;
            stroke: var(--border-light);
            stroke-width: 4;
        }

        body.dark-mode .progress-bg {
            stroke: var(--border-dark);
        }

        .progress-fill {
            fill: none;
            stroke: url(#progressGradient);
            stroke-width: 4;
            stroke-linecap: round;
            stroke-dasharray: 219.99;
            stroke-dashoffset: 219.99;
            transition: stroke-dashoffset 0.5s ease;
        }

        .progress-text {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: 700;
            font-size: 20px;
        }

        .progress-label {
            color: var(--text-light-secondary);
            font-size: 12px;
            margin: 0;
        }

        body.dark-mode .progress-label {
            color: var(--text-dark-secondary);
        }

        /* Modules List */
        .modules-list {
            margin-bottom: 30px;
            /* allow modules to scroll when content overflows */
            flex: 1 1 auto;
            overflow-y: auto;
            padding-right: 8px;
            max-height: calc(100vh - 320px);
        }

        /* nicer scrollbars for modules list */
        .modules-list::-webkit-scrollbar {
            width: 8px;
        }
        .modules-list::-webkit-scrollbar-thumb {
            background: rgba(0,0,0,0.1);
            border-radius: 6px;
        }

        .modules-list h4 {
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            color: var(--text-light-secondary);
            margin-bottom: 12px;
            letter-spacing: 0.5px;
        }

        body.dark-mode .modules-list h4 {
            color: var(--text-dark-secondary);
        }

        .modules-list ul {
            list-style: none;
        }

        .module-item {
            padding: 10px;
            border-radius: 6px;
            margin-bottom: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 14px;
            color: var(--text-light-secondary);
            display: flex;
            align-items: center;
            gap: 8px;
        }

        body.dark-mode .module-item {
            color: var(--text-dark-secondary);
        }

        .module-item:hover {
            background: var(--bg-light-secondary);
            color: var(--primary-color);
        }

        body.dark-mode .module-item:hover {
            background: var(--bg-dark);
        }

        .module-item.active {
            background: var(--primary-color);
            color: white;
            font-weight: 600;
        }

        .module-item .lesson-count {
            font-size: 11px;
            margin-left: auto;
            background: rgba(0, 0, 0, 0.1);
            padding: 2px 8px;
            border-radius: 10px;
        }

        .module-item.active .lesson-count {
            background: rgba(255, 255, 255, 0.3);
        }

        .btn-primary-sidebar {
            width: 100%;
            padding: 12px;
            background: var(--primary-color);
            color: white;
            border: none;
            border-radius: 8px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .btn-primary-sidebar:hover {
            background: var(--primary-dark);
        }

        /* Main Content */
        .main-content {
            flex: 1;
            overflow-y: auto;
            padding: 40px;
        }

        .course-header {
            margin-bottom: 40px;
        }

        .breadcrumb {
            font-size: 13px;
            color: var(--text-light-secondary);
            margin-bottom: 16px;
        }

        body.dark-mode .breadcrumb {
            color: var(--text-dark-secondary);
        }

        .breadcrumb a {
            color: var(--primary-color);
            text-decoration: none;
        }

        .breadcrumb a:hover {
            text-decoration: underline;
        }

        .course-header h1 {
            font-size: 32px;
            margin-bottom: 12px;
        }

        .course-description {
            color: var(--text-light-secondary);
            font-size: 16px;
            max-width: 600px;
        }

        body.dark-mode .course-description {
            color: var(--text-dark-secondary);
        }

        /* Lesson Content */
        .lesson-content {
            margin-bottom: 40px;
        }

        .lesson-card {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 40px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            margin-bottom: 20px;
            animation: fadeIn 0.3s ease;
        }

        body.dark-mode .lesson-card {
            background: var(--bg-dark-secondary);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
        }

        .lesson-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 30px;
            border-bottom: 1px solid var(--border-light);
            padding-bottom: 20px;
        }

        body.dark-mode .lesson-header {
            border-bottom-color: var(--border-dark);
        }

        .lesson-header h2 {
            font-size: 28px;
            margin: 0;
        }

        .lesson-number {
            background: var(--primary-color);
            color: white;
            padding: 6px 16px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
            white-space: nowrap;
        }

        /* Lesson Body */
        .lesson-body {
            font-size: 16px;
            line-height: 1.8;
            color: var(--text-light-secondary);
            margin-bottom: 30px;
        }

        body.dark-mode .lesson-body {
            color: var(--text-dark-secondary);
        }

        .lesson-body h3 {
            color: var(--text-light);
            margin-top: 24px;
            margin-bottom: 12px;
            font-size: 20px;
        }

        body.dark-mode .lesson-body h3 {
            color: var(--text-dark);
        }

        .lesson-body p {
            margin-bottom: 16px;
        }

        .lesson-body ul, .lesson-body ol {
            margin-left: 24px;
            margin-bottom: 16px;
        }

        .lesson-body li {
            margin-bottom: 8px;
        }

        .code-block {
            background: var(--bg-light-secondary);
            border-left: 4px solid var(--primary-color);
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 16px 0;
            font-family: 'Courier New', monospace;
            font-size: 13px;
        }

        body.dark-mode .code-block {
            background: var(--bg-dark);
        }

        .code-block code {
            color: var(--primary-color);
        }

        body.dark-mode .code-block code {
            color: var(--accent-color);
        }

        .info-box {
            background: #dbeafe;
            border-left: 4px solid var(--primary-color);
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
        }

        body.dark-mode .info-box {
            background: rgba(37, 99, 235, 0.1);
        }

        .success-box {
            background: #dcfce7;
            border-left: 4px solid var(--success-color);
            padding: 16px;
            border-radius: 6px;
            margin: 16px 0;
        }

        body.dark-mode .success-box {
            background: rgba(16, 185, 129, 0.1);
        }

        /* Lesson Actions */
        .lesson-actions {
            display: flex;
            flex-direction: column;
            gap: 16px;
            margin-top: 30px;
            border-top: 1px solid var(--border-light);
            padding-top: 20px;
        }

        body.dark-mode .lesson-actions {
            border-top-color: var(--border-dark);
        }

        .btn-primary, .btn-secondary {
            padding: 12px 24px;
            border: none;
            border-radius: 8px;
            font-size: 14px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }

        .btn-primary {
            background: var(--primary-color);
            color: white;
            width: 100%;
        }

        .btn-primary:hover {
            background: var(--primary-dark);
        }

        .btn-secondary {
            background: var(--bg-light-secondary);
            color: var(--text-light);
            width: 100%;
            border: 1px solid var(--border-light);
        }

        body.dark-mode .btn-secondary {
            background: var(--bg-dark);
            color: var(--text-dark);
            border-color: var(--border-dark);
        }

        .btn-secondary:hover {
            background: var(--border-light);
        }

        body.dark-mode .btn-secondary:hover {
            background: var(--border-dark);
        }

        /* Progress Indicator */
        .progress-indicator {
            display: flex;
            align-items: center;
            gap: 16px;
        }

        .progress-bar {
            flex: 1;
            height: 6px;
            background: var(--border-light);
            border-radius: 3px;
            overflow: hidden;
        }

        body.dark-mode .progress-bar {
            background: var(--border-dark);
        }

        .progress-bar .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--primary-color), var(--accent-color));
            border-radius: 3px;
        }

        .progress-label-text {
            font-size: 13px;
            color: var(--text-light-secondary);
            white-space: nowrap;
        }

        body.dark-mode .progress-label-text {
            color: var(--text-dark-secondary);
        }

        /* Modal */
        .modal-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.5);
            z-index: 200;
            align-items: center;
            justify-content: center;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal {
            background: var(--bg-light);
            border-radius: 12px;
            padding: 30px;
            max-width: 600px;
            width: 90%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
        }

        body.dark-mode .modal {
            background: var(--bg-dark-secondary);
        }

        .modal-close {
            position: absolute;
            top: 16px;
            right: 16px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--text-light-secondary);
        }

        body.dark-mode .modal-close {
            color: var(--text-dark-secondary);
        }

        .modal h2 {
            margin-bottom: 20px;
        }

        .quiz-question {
            margin-bottom: 24px;
            padding: 16px;
            background: var(--bg-light-secondary);
            border-radius: 8px;
        }

        body.dark-mode .quiz-question {
            background: var(--bg-dark);
        }

        .quiz-question h3 {
            margin-bottom: 12px;
            color: var(--text-light);
        }

        body.dark-mode .quiz-question h3 {
            color: var(--text-dark);
        }

        .quiz-option {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 8px;
            border: 1px solid var(--border-light);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        body.dark-mode .quiz-option {
            border-color: var(--border-dark);
        }

        .quiz-option:hover {
            background: var(--bg-light-secondary);
            border-color: var(--primary-color);
        }

        body.dark-mode .quiz-option:hover {
            background: var(--bg-dark);
        }

        .quiz-option input[type="radio"] {
            margin-right: 12px;
            cursor: pointer;
        }

        .quiz-actions {
            display: flex;
            gap: 12px;
            margin-top: 30px;
            justify-content: center;
        }

        .quiz-actions button {
            padding: 12px 30px;
            font-weight: 600;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .quiz-container {
            max-height: 80vh;
            overflow-y: auto;
        }

        .quiz-instruction {
            color: var(--text-light-secondary);
            font-size: 14px;
            margin-bottom: 20px;
            padding: 12px;
            background: var(--bg-light-secondary);
            border-radius: 6px;
            border-left: 4px solid var(--primary-color);
        }

        body.dark-mode .quiz-instruction {
            color: var(--text-dark-secondary);
            background: var(--bg-dark);
        }

        .quiz-questions {
            margin: 20px 0;
        }

        .quiz-questions label {
            display: flex;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            border: 2px solid var(--border-light);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: var(--bg-light);
            color: var(--text-light);
        }

        .quiz-questions label span {
            color: var(--text-light);
            font-size: 15px;
            line-height: 1.4;
        }

        body.dark-mode .quiz-questions label span {
            color: var(--text-dark);
        }

        body.dark-mode .quiz-questions label {
            background: var(--bg-dark-secondary);
            border-color: var(--border-dark);
            color: var(--text-dark);
        }

        .quiz-options label {
            display: flex !important;
            align-items: center;
            padding: 12px;
            margin-bottom: 10px;
            border: 2px solid var(--border-light);
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.2s ease;
            background: var(--bg-light);
            color: var(--text-light);
        }

        .quiz-options label span {
            color: var(--text-light);
            font-size: 15px;
            line-height: 1.4;
            margin: 0;
        }

        body.dark-mode .quiz-options label {
            background: var(--bg-dark-secondary);
            border-color: var(--border-dark);
            color: var(--text-dark);
        }

        body.dark-mode .quiz-options label span {
            color: var(--text-dark);
        }

        .quiz-options label:hover {
            border-color: var(--primary-color);
            background: var(--bg-light-secondary);
        }

        body.dark-mode .quiz-options label:hover {
            background: var(--bg-dark);
        }

        .quiz-questions label:hover {
            border-color: var(--primary-color);
            background: var(--bg-light-secondary);
        }

        body.dark-mode .quiz-questions label:hover {
            background: var(--bg-dark);
        }

        .quiz-questions input[type="radio"] {
            width: 20px;
            height: 20px;
            cursor: pointer;
            accent-color: var(--primary-color);
            margin-right: 12px;
        }

        /* Responsive */
        @media (max-width: 1024px) {
            .course-container {
                flex-direction: column;
            }

            .sidebar {
                width: 100%;
                border-right: none;
                border-bottom: 1px solid var(--border-light);
                max-height: 200px;
                display: flex;
                gap: 20px;
                overflow-x: auto;
                overflow-y: hidden;
            }

            body.dark-mode .sidebar {
                border-bottom-color: var(--border-dark);
            }

            .sidebar-header {
                display: none;
            }

            .modules-list {
                min-width: 300px;
            }

            .main-content {
                padding: 20px;
            }

            .lesson-card {
                padding: 20px;
            }
        }

        @media (max-width: 768px) {
            .nav-container {
                flex-wrap: wrap;
                height: auto;
                padding: 10px 15px;
            }

            .course-header {
                margin-bottom: 20px;
            }

            .course-header h1 {
                font-size: 24px;
            }

            .lesson-card {
                padding: 16px;
            }

            .lesson-header {
                flex-direction: column;
                gap: 12px;
            }

            .lesson-actions {
                flex-direction: row;
            }

            .btn-primary, .btn-secondary {
                flex: 1;
            }

            .user-name {
                display: none;
            }
        }

        @media (max-width: 480px) {
            .main-content {
                padding: 15px;
            }

            .course-header h1 {
                font-size: 20px;
            }

            .lesson-card {
                padding: 12px;
            }

            .lesson-body {
                font-size: 14px;
            }

            .modal {
                padding: 20px;
            }
        }

        /* Animations */
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(10px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        /* Toast Notifications */
        #toastContainer {
            position: fixed;
            top: 20px;
            right: 20px;
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .toast {
            background: linear-gradient(135deg, #2563eb, #06b6d4);
            color: #fff;
            padding: 14px 18px;
            border-radius: 12px;
            font-weight: 600;
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
            animation: slideIn 0.4s ease, fadeOut 0.4s ease 2.6s forwards;
        }

        @keyframes slideIn {
            from {
                transform: translateX(120%);
                opacity: 0;
            }
            to {
                transform: translateX(0);
                opacity: 1;
            }
        }

        @keyframes fadeOut {
            to {
                opacity: 0;
                transform: translateX(120%);
            }
        }
    </style>
</head>
<body>
    <!-- Navigation Bar -->
    <nav class="navbar">
        <div class="nav-container">
            <div class="nav-left">
                <a href="learning-platform.html" class="logo">
                    <i class="fas fa-graduation-cap"></i>
                    <span>Swayam</span>
                </a>
            </div>
            <div class="nav-center">
                <span class="course-title" id="navCourseTitle">Course</span>
            </div>
            <div class="nav-right">
                <button class="theme-toggle" id="themeToggle">
                    <i class="fas fa-moon"></i>
                </button>
                <div class="user-menu">
                    <div style="display:flex; align-items:center; gap:10px;">
                        <div class="user-avatar" id="userAvatar" style="background: #2563eb; display:flex; align-items:center; justify-content:center; color:#fff; font-weight:700; font-size:18px;">U</div>
                        <span class="user-name" id="userName">User</span>
                        <button class="logout-btn" id="logoutBtn" title="Logout">
                            <i class="fas fa-sign-out-alt"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </nav>

    <div class="course-container">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <h3 id="sidebarTitle">Course</h3>
                <button class="sidebar-toggle" id="sidebarToggle">
                    <i class="fas fa-chevron-left"></i>
                </button>
            </div>

            <div class="course-progress">
                <div class="progress-circle">
                    <svg width="80" height="80">
                        <defs>
                            <linearGradient id="progressGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                                <stop offset="0%" style="stop-color:#2563eb;stop-opacity:1" />
                                <stop offset="100%" style="stop-color:#06b6d4;stop-opacity:1" />
                            </linearGradient>
                        </defs>
                        <circle cx="40" cy="40" r="35" class="progress-bg"></circle>
                        <circle cx="40" cy="40" r="35" class="progress-fill" id="progressCircle"></circle>
                    </svg>
                    <span class="progress-text" id="progressPercent">0%</span>
                </div>
                <p class="progress-label">Overall Progress</p>
            </div>

            <div class="modules-list">
                <h4>Modules</h4>
                <ul id="modulesList"></ul>
            </div>

            <button class="btn-primary-sidebar" id="markCompleteBtn" disabled style="opacity:0.6; cursor:not-allowed;">
                <i class="fas fa-check"></i> Mark Course Complete
            </button>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Course Header -->
            <div class="course-header">
                <div class="breadcrumb">
                    <a href="learning-platform.html">Dashboard</a>
                    <span>/</span>
                    <span id="breadcrumbCourse">Course</span>
                </div>
                <h1 id="courseHeading">Course Title</h1>
                <p id="courseDescription" class="course-description">Course description goes here</p>
            </div>

            <!-- Lesson Content -->
            <div class="lesson-content">
                <div class="lesson-card" id="lessonCard">
                    <div class="lesson-header">
                        <h2 id="lessonTitle">Lesson Title</h2>
                        <span class="lesson-number" id="lessonNumber">Lesson 1</span>
                    </div>

                    <div id="lessonBody" class="lesson-body">
                        <!-- Dynamic content will be inserted here -->
                    </div>

                    <div class="lesson-actions">
                        <button class="btn-secondary" id="prevBtn" style="display: none;">
                            <i class="fas fa-chevron-left"></i> Previous
                        </button>
                        <button class="btn-primary" id="nextBtn">
                            Next <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>

                <!-- Progress Indicator -->
                <div class="progress-indicator">
                    <div class="progress-bar">
                        <div class="progress-fill" id="lessonProgressBar" style="width: 0%;"></div>
                    </div>
                    <span id="progressLabel" class="progress-label-text">1 of 1</span>
                </div>
            </div>
        </main>
    </div>

    <!-- Quiz Modal -->
    <div id="quizModal" class="modal-overlay">
        <div class="modal">
            <button class="modal-close" id="quizClose">&times;</button>
            <div class="quiz-container">
                <h2 id="quizTitle">Quiz</h2>
                <p class="quiz-instruction">Answer all questions correctly to proceed to the next lesson</p>
                <div id="quizContent"></div>
                <div class="quiz-actions">
                    <button class="btn-secondary" id="submitQuiz">Submit Quiz</button>
                    <button class="btn-secondary" id="skipQuiz" style="background: #6b7280;">Skip Questions</button>
                </div>
            </div>
        </div>
    </div>

    <script async>
        // ============================================
        // Course Details - Course Specific Content
        // ============================================

        // Course Data with detailed lessons and content
        const courseData = {
            'HTML': {
                title: 'HTML Basics',
                description: 'Learn the fundamentals of HTML and create well-structured web pages',
                modules: [
                    {
                        name: 'Module 1: Basics',
                        lessons: ['Introduction', 'HTML Structure', 'HTML Tags', 'Attributes']
                    },
                    {
                        name: 'Module 2: Forms',
                        lessons: ['Form Elements', 'Input Types', 'Form Validation', 'Form Submission']
                    },
                    {
                        name: 'Module 3: Advanced',
                        lessons: ['Semantic HTML', 'Accessibility', 'Meta Tags', 'SEO Basics']
                    },
                    {
                        name: 'Module 4: Practice',
                        lessons: ['HTML Best Practices', 'Common Mistakes', 'Tools & Resources', 'Project Challenge']
                    }
                ],
                lessons: {
                    'Introduction': {
                        title: 'Introduction to HTML',
                        content: `
                            <h3>What is HTML?</h3>
                            <p>HTML (HyperText Markup Language) is the standard markup language used to create web pages. It provides the structure and content of websites.</p>
                            
                            <h3>Why Learn HTML?</h3>
                            <ul>
                                <li>It's the foundation of web development</li>
                                <li>Essential for creating web pages</li>
                                <li>Easy to learn and start building</li>
                                <li>Works with CSS and JavaScript</li>
                            </ul>
                            
                            <div class="info-box">
                                <strong>üí° Note:</strong> HTML provides structure, CSS provides styling, and JavaScript provides interactivity.
                            </div>
                            
                            <h3>Your Learning Path</h3>
                            <p>In this course, you'll learn:</p>
                            <ul>
                                <li>HTML document structure</li>
                                <li>Common HTML tags and elements</li>
                                <li>Creating forms</li>
                                <li>Semantic HTML and accessibility</li>
                            </ul>
                        `
                    },
                    'Introduction_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What does HTML stand for?',
                                options: [
                                    { text: 'Hyper Text Markup Language', correct: true },
                                    { text: 'High Tech Modern Language', correct: false },
                                    { text: 'Home Tool Markup Language', correct: false },
                                    { text: 'Hyperlinks and Text Markup Language', correct: false }
                                ]
                            },
                            {
                                question: 'Which of the following is the main purpose of HTML?',
                                options: [
                                    { text: 'To style web pages', correct: false },
                                    { text: 'To create structure and content of web pages', correct: true },
                                    { text: 'To make websites interactive', correct: false },
                                    { text: 'To manage databases', correct: false }
                                ]
                            },
                            {
                                question: 'What is the relationship between HTML, CSS, and JavaScript?',
                                options: [
                                    { text: 'HTML provides structure, CSS provides styling, JavaScript provides interactivity', correct: true },
                                    { text: 'They all do the same thing', correct: false },
                                    { text: 'CSS provides structure, HTML provides styling', correct: false },
                                    { text: 'JavaScript is more important than the others', correct: false }
                                ]
                            }
                        ]
                    },
                    'HTML Structure': {
                        title: 'HTML Document Structure',
                        content: `
                            <h3>Basic HTML Structure</h3>
                            <p>Every HTML document follows a basic structure with a DOCTYPE, html, head, and body tags.</p>
                            
                            <div class="code-block"><code>&lt;!DOCTYPE html&gt;
&lt;html&gt;
    &lt;head&gt;
        &lt;title&gt;Page Title&lt;/title&gt;
    &lt;/head&gt;
    &lt;body&gt;
        &lt;h1&gt;Hello World&lt;/h1&gt;
    &lt;/body&gt;
&lt;/html&gt;</code></div>
                            
                            <h3>Understanding Each Part</h3>
                            <ul>
                                <li><strong>&lt;!DOCTYPE html&gt;</strong> - Declares the document type</li>
                                <li><strong>&lt;html&gt;</strong> - Root element of the document</li>
                                <li><strong>&lt;head&gt;</strong> - Contains metadata and title</li>
                                <li><strong>&lt;body&gt;</strong> - Contains visible content</li>
                            </ul>
                            
                            <div class="success-box">
                                ‚úì Always start with DOCTYPE for proper HTML5 documents!
                            </div>
                        `
                    },
                    'HTML Structure_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'Which tag is the root element of an HTML document?',
                                options: [
                                    { text: '<body>', correct: false },
                                    { text: '<head>', correct: false },
                                    { text: '<html>', correct: true },
                                    { text: '<DOCTYPE>', correct: false }
                                ]
                            },
                            {
                                question: 'What is the purpose of the <head> tag?',
                                options: [
                                    { text: 'To contain all visible content', correct: false },
                                    { text: 'To contain metadata and title', correct: true },
                                    { text: 'To define headings', correct: false },
                                    { text: 'To create navigation', correct: false }
                                ]
                            },
                            {
                                question: 'Where should you place the main visible content?',
                                options: [
                                    { text: 'In the <head> tag', correct: false },
                                    { text: 'In the <body> tag', correct: true },
                                    { text: 'In the <html> tag', correct: false },
                                    { text: 'In the <title> tag', correct: false }
                                ]
                            }
                        ]
                    },
                    'HTML Tags': {
                        title: 'Common HTML Tags',
                        content: `
                            <h3>Heading Tags</h3>
                            <p>Use h1-h6 tags for headings. h1 is the most important, h6 is the least.</p>
                            
                            <div class="code-block"><code>&lt;h1&gt;Main Heading&lt;/h1&gt;
&lt;h2&gt;Subheading&lt;/h2&gt;
&lt;h3&gt;Sub-subheading&lt;/h3&gt;</code></div>
                            
                            <h3>Paragraph and Text Tags</h3>
                            <ul>
                                <li><strong>&lt;p&gt;</strong> - Paragraph</li>
                                <li><strong>&lt;strong&gt;</strong> - Bold text (important)</li>
                                <li><strong>&lt;em&gt;</strong> - Italic text (emphasis)</li>
                                <li><strong>&lt;br&gt;</strong> - Line break</li>
                            </ul>
                            
                            <h3>List Tags</h3>
                            <div class="code-block"><code>&lt;ul&gt;
    &lt;li&gt;Unordered item&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
    &lt;li&gt;Ordered item&lt;/li&gt;
&lt;/ol&gt;</code></div>
                        `
                    },
                    'Attributes': {
                        title: 'HTML Attributes',
                        content: `
                            <h3>What are Attributes?</h3>
                            <p>Attributes provide additional information about HTML elements. They are always in the start tag.</p>
                            
                            <h3>Common Attributes</h3>
                            <div class="code-block"><code>&lt;a href="https://example.com"&gt;Link&lt;/a&gt;
&lt;img src="image.jpg" alt="Description"&gt;
&lt;div id="header" class="container"&gt;&lt;/div&gt;
&lt;input type="text" name="username"&gt;</code></div>
                            
                            <h3>Important Attributes</h3>
                            <ul>
                                <li><strong>id</strong> - Unique identifier for an element</li>
                                <li><strong>class</strong> - Groups elements for styling</li>
                                <li><strong>href</strong> - URL for links</li>
                                <li><strong>src</strong> - Source path for images</li>
                                <li><strong>alt</strong> - Alternative text for images</li>
                            </ul>
                            
                            <div class="info-box">
                                <strong>üìù Best Practice:</strong> Always include alt text for images for accessibility!
                            </div>
                        `
                    },
                    'Form Elements': {
                        title: 'HTML Form Elements',
                        content: `
                            <h3>Understanding Forms</h3>
                            <p>Forms are essential for collecting user input. They consist of various input elements.</p>
                            
                            <div class="code-block"><code>&lt;form action="/submit" method="POST"&gt;
    &lt;label for="name"&gt;Name:&lt;/label&gt;
    &lt;input type="text" id="name" name="name"&gt;
    &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></div>
                            
                            <h3>Common Form Elements</h3>
                            <ul>
                                <li><strong>&lt;form&gt;</strong> - Container for form elements</li>
                                <li><strong>&lt;input&gt;</strong> - Input field</li>
                                <li><strong>&lt;textarea&gt;</strong> - Multi-line text input</li>
                                <li><strong>&lt;select&gt;</strong> - Dropdown list</li>
                                <li><strong>&lt;button&gt;</strong> - Clickable button</li>
                            </ul>
                        `
                    },
                    'Input Types': {
                        title: 'HTML Input Types',
                        content: `
                            <h3>Different Input Types</h3>
                            <p>HTML5 introduced many new input types for better form handling.</p>
                            
                            <div class="code-block"><code>&lt;input type="text"&gt;      &lt;!-- Text input --&gt;
&lt;input type="email"&gt;     &lt;!-- Email input --&gt;
&lt;input type="password"&gt;  &lt;!-- Password input --&gt;
&lt;input type="number"&gt;    &lt;!-- Number input --&gt;
&lt;input type="date"&gt;      &lt;!-- Date picker --&gt;</code></div>
                            
                            <div class="success-box">
                                ‚úì Using the correct input type improves user experience!
                            </div>
                        `
                    },
                    'Form Validation': {
                        title: 'Form Validation',
                        content: `
                            <h3>Client-Side Validation</h3>
                            <p>Validation ensures users enter correct data before submission.</p>
                            
                            <div class="code-block"><code>&lt;input type="email" required&gt;
&lt;input type="password" minlength="8"&gt;
&lt;input type="number" min="1" max="100"&gt;</code></div>
                            
                            <h3>Validation Attributes</h3>
                            <ul>
                                <li><strong>required</strong> - Field must be filled</li>
                                <li><strong>minlength</strong> - Minimum character length</li>
                                <li><strong>maxlength</strong> - Maximum character length</li>
                                <li><strong>min/max</strong> - Number range</li>
                                <li><strong>pattern</strong> - Regex pattern matching</li>
                            </ul>
                        `
                    },
                    'Form Submission': {
                        title: 'Handling Form Submission',
                        content: `
                            <h3>Form Submission Methods</h3>
                            <p>Forms can submit data using GET or POST methods.</p>
                            
                            <div class="code-block"><code>&lt;form action="/api/submit" method="POST"&gt;
    &lt;input type="text" name="username"&gt;
    &lt;button type="submit"&gt;Submit&lt;/button&gt;
&lt;/form&gt;</code></div>
                            
                            <h3>Key Concepts</h3>
                            <ul>
                                <li><strong>action</strong> - URL where form data is sent</li>
                                <li><strong>method</strong> - GET (URL parameters) or POST (body)</li>
                                <li><strong>name</strong> - Field identifier for data submission</li>
                            </ul>
                        `
                    },
                    'Semantic HTML': {
                        title: 'Semantic HTML Elements',
                        content: `
                            <h3>What is Semantic HTML?</h3>
                            <p>Semantic elements clearly describe their meaning to both browser and developer.</p>
                            
                            <div class="code-block"><code>&lt;header&gt; &lt;/header&gt;     &lt;!-- Page header --&gt;
&lt;nav&gt; &lt;/nav&gt;           &lt;!-- Navigation --&gt;
&lt;article&gt; &lt;/article&gt;   &lt;!-- Main content --&gt;
&lt;section&gt; &lt;/section&gt;   &lt;!-- Content section --&gt;
&lt;footer&gt; &lt;/footer&gt;     &lt;!-- Page footer --&gt;</code></div>
                            
                            <div class="info-box">
                                <strong>üí° Benefit:</strong> Semantic HTML improves SEO and accessibility!
                            </div>
                        `
                    },
                    'Accessibility': {
                        title: 'Web Accessibility',
                        content: `
                            <h3>Making Your Website Accessible</h3>
                            <p>Accessibility ensures your website is usable by everyone, including people with disabilities.</p>
                            
                            <h3>Accessibility Best Practices</h3>
                            <ul>
                                <li>Use semantic HTML elements</li>
                                <li>Provide alt text for images</li>
                                <li>Use proper heading hierarchy</li>
                                <li>Ensure sufficient color contrast</li>
                                <li>Make interactive elements keyboard accessible</li>
                            </ul>
                            
                            <div class="success-box">
                                ‚úì Accessible websites benefit all users!
                            </div>
                        `
                    },
                    'Meta Tags': {
                        title: 'Meta Tags and Metadata',
                        content: `
                            <h3>Understanding Meta Tags</h3>
                            <p>Meta tags provide information about your HTML document to the browser and search engines.</p>
                            
                            <div class="code-block"><code>&lt;meta charset="UTF-8"&gt;
&lt;meta name="viewport" content="width=device-width"&gt;
&lt;meta name="description" content="Page description"&gt;
&lt;meta name="keywords" content="web, design"&gt;</code></div>
                            
                            <h3>Common Meta Tags</h3>
                            <ul>
                                <li><strong>charset</strong> - Character encoding</li>
                                <li><strong>viewport</strong> - Responsive design</li>
                                <li><strong>description</strong> - Page summary</li>
                                <li><strong>keywords</strong> - Search keywords</li>
                            </ul>
                        `
                    },
                    'SEO Basics': {
                        title: 'SEO and HTML',
                        content: `
                            <h3>Search Engine Optimization</h3>
                            <p>SEO helps your website appear in search results by optimizing HTML structure.</p>
                            
                            <h3>SEO Tips</h3>
                            <ul>
                                <li>Use proper heading hierarchy (h1, h2, h3)</li>
                                <li>Write descriptive page titles and descriptions</li>
                                <li>Use semantic HTML elements</li>
                                <li>Add alt text to images</li>
                                <li>Create clean URL structures</li>
                                <li>Use header tags for content organization</li>
                            </ul>
                            
                            <div class="info-box">
                                <strong>üí° Tip:</strong> SEO is an ongoing process that requires regular updates!
                            </div>
                        `
                    },
                    'HTML Best Practices': {
                        title: 'HTML Best Practices',
                        content: `
                            <h3>Writing Quality HTML</h3>
                            <p>Follow these best practices to write maintainable and efficient HTML code.</p>
                            
                            <h3>Best Practices</h3>
                            <ul>
                                <li>Always use proper indentation</li>
                                <li>Use lowercase for tag names</li>
                                <li>Close all tags properly</li>
                                <li>Use semantic elements appropriately</li>
                                <li>Avoid deprecated tags</li>
                                <li>Validate your HTML regularly</li>
                            </ul>
                            
                            <div class="code-block"><code>&lt;!-- Good: Proper structure --&gt;
&lt;header&gt;
    &lt;h1&gt;Title&lt;/h1&gt;
    &lt;nav&gt;&lt;/nav&gt;
&lt;/header&gt;</code></div>
                        `
                    },
                    'Common Mistakes': {
                        title: 'Common HTML Mistakes',
                        content: `
                            <h3>Mistakes to Avoid</h3>
                            <p>Learn from common HTML mistakes to write better code.</p>
                            
                            <h3>Common Issues</h3>
                            <ul>
                                <li>Forgetting to close tags - causes rendering issues</li>
                                <li>Improper nesting - elements inside wrong containers</li>
                                <li>Missing alt text - bad for accessibility and SEO</li>
                                <li>Using deprecated elements - older browsers may not support</li>
                                <li>Poor semantic structure - impacts SEO and accessibility</li>
                            </ul>
                            
                            <div class="info-box">
                                <strong>‚ö†Ô∏è Warning:</strong> Unclosed tags can break your entire layout!
                            </div>
                        `
                    },
                    'Tools & Resources': {
                        title: 'HTML Tools and Resources',
                        content: `
                            <h3>Useful Tools</h3>
                            <p>These tools help you write, validate, and optimize HTML code.</p>
                            
                            <h3>Essential Tools</h3>
                            <ul>
                                <li><strong>VS Code</strong> - Popular code editor</li>
                                <li><strong>HTML Validator</strong> - Check HTML correctness</li>
                                <li><strong>DevTools</strong> - Browser developer tools</li>
                                <li><strong>Lighthouse</strong> - Performance & accessibility audits</li>
                                <li><strong>Online Editors</strong> - CodePen, JSFiddle for testing</li>
                            </ul>
                        `
                    },
                    'Project Challenge': {
                        title: 'HTML Project Challenge',
                        content: `
                            <h3>Your Final Project</h3>
                            <p>Create a complete website using all HTML concepts you've learned!</p>
                            
                            <h3>Project Requirements</h3>
                            <ul>
                                <li>Create a multi-page website with proper structure</li>
                                <li>Use semantic HTML elements</li>
                                <li>Include at least one form with proper validation</li>
                                <li>Add proper meta tags and SEO elements</li>
                                <li>Ensure accessibility standards are met</li>
                                <li>Include images with alt text</li>
                            </ul>
                            
                            <div class="success-box">
                                ‚úì Complete this project to solidify your HTML knowledge!
                            </div>
                        `
                    },
                    'HTML_final_quiz': {
                        type: 'final_assessment',
                        totalMarks: 30,
                        passingPercentage: 85,
                        questions: [
                            { q: 'What does HTML stand for?', options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Home Tool Markup Language', 'Hyperlinks and Text Markup Language'], correct: 0 },
                            { q: 'Which tag is used for the main heading?', options: ['<h6>', '<h1>', '<heading>', '<main>'], correct: 1 },
                            { q: 'What is the purpose of the <head> tag?', options: ['To contain body content', 'To contain metadata and title', 'To create navigation', 'To define styling'], correct: 1 },
                            { q: 'Which tag is used to create a paragraph?', options: ['<text>', '<p>', '<para>', '<paragraph>'], correct: 1 },
                            { q: 'How do you add a comment in HTML?', options: ['<!-- comment -->', '// comment', '/* comment */', '# comment'], correct: 0 },
                            { q: 'Which attribute specifies the URL for a hyperlink?', options: ['url', 'href', 'link', 'src'], correct: 1 },
                            { q: 'What is the correct syntax for an image tag?', options: ['<img src="image.jpg">', '<image src="image.jpg">', '<img href="image.jpg">', '<picture src="image.jpg">'], correct: 0 },
                            { q: 'Which tag is used to create an unordered list?', options: ['<ol>', '<ul>', '<list>', '<li>'], correct: 1 },
                            { q: 'What does the <strong> tag do?', options: ['Adds italic text', 'Makes text bold (important)', 'Underlines text', 'Changes text color'], correct: 1 },
                            { q: 'Which tag is self-closing?', options: ['<p>', '<div>', '<br>', '<span>'], correct: 2 },
                            { q: 'What is semantic HTML?', options: ['HTML with colors', 'HTML that describes meaning of content', 'HTML for styling', 'HTML for JavaScript'], correct: 1 },
                            { q: 'Which tag should be used for the main content?', options: ['<div>', '<main>', '<section>', '<article>'], correct: 1 },
                            { q: 'What does the alt attribute do?', options: ['Adds animation', 'Provides alternative text for images', 'Changes image size', 'Aligns image'], correct: 1 },
                            { q: 'Which is the correct DOCTYPE declaration?', options: ['<!DOCTYPE html>', '<!DOCTYPE HTML 5>', '<!DOCTYPE xml>', '<!DOCUMENT html>'], correct: 0 },
                            { q: 'What is the <form> tag used for?', options: ['Creating tables', 'Creating user input forms', 'Creating lists', 'Creating navigation'], correct: 1 },
                            { q: 'Which input type is used for email validation?', options: ['<input type="email">', '<input type="text">', '<input type="mail">', '<input type="validate">'], correct: 0 },
                            { q: 'What does <em> tag stand for?', options: ['Emphasis', 'Example', 'Emergency', 'Element'], correct: 0 },
                            { q: 'How do you create a dropdown list in HTML?', options: ['<dropdown>', '<select>', '<option>', '<list>'], correct: 1 },
                            { q: 'Which tag is used for displaying code?', options: ['<code>', '<program>', '<script>', '<text>'], correct: 0 },
                            { q: 'What is the <meta> tag used for?', options: ['Creating metadata', 'Styling pages', 'Creating links', 'Adding scripts'], correct: 0 },
                            { q: 'Which tag represents a section of content?', options: ['<div>', '<section>', '<block>', '<container>'], correct: 1 },
                            { q: 'What does the charset attribute specify?', options: ['Character encoding', 'Character style', 'Character size', 'Character alignment'], correct: 0 },
                            { q: 'Which attribute makes a form field required?', options: ['required', 'mandatory', 'needed', 'compulsory'], correct: 0 },
                            { q: 'How do you add a background color to an element?', options: ['Using bgcolor attribute', 'Using CSS style', 'Using color tag', 'Using background tag'], correct: 1 },
                            { q: 'What is the purpose of accessibility in HTML?', options: ['To make websites faster', 'To make websites usable for everyone including disabled users', 'To add more colors', 'To increase file size'], correct: 1 },
                            { q: 'Which tag is used for a line break?', options: ['<lb>', '<linebreak>', '<br>', '<break>'], correct: 2 },
                            { q: 'What does the <footer> tag contain?', options: ['Header content', 'Footer/bottom content of page', 'Main content', 'Navigation'], correct: 1 },
                            { q: 'How do you create a link that opens in a new tab?', options: ['<a href="url" target="new">', '<a href="url" target="_blank">', '<a href="url" new>', '<a href="url" tab>'], correct: 1 },
                            { q: 'Which tag is used for a navigation bar?', options: ['<navBar>', '<navigation>', '<nav>', '<menu>'], correct: 2 },
                            { q: 'What is responsive design in HTML?', options: ['Making websites look good on all device sizes', 'Making websites faster', 'Making websites colorful', 'Making websites interactive'], correct: 0 }
                        ]
                    }
                }
            },
            'Python Developer': {
                title: 'Python Developer Course',
                description: 'Master Python programming and become a professional Python developer',
                modules: [
                    {
                        name: 'Module 1: Core Python',
                        lessons: ['Python Basics', 'Variables & Data Types', 'Control Flow', 'Functions']
                    },
                    {
                        name: 'Module 2: Data Structures',
                        lessons: ['Lists & Tuples', 'Dictionaries & Sets', 'Comprehensions', 'Error Handling']
                    },
                    {
                        name: 'Module 3: OOP & Modules',
                        lessons: ['Classes & Objects', 'Inheritance & Polymorphism', 'Modules & Packages', 'File Handling']
                    },
                    {
                        name: 'Module 4: Applied Python',
                        lessons: ['Virtual Environments', 'Testing & Debugging', 'APIs & HTTP', 'CLI & Automation']
                    }
                ],
                lessons: {
                    'Python Basics': {
                        title: 'Python Programming Basics',
                        content: `
                            <h3>What is Python?</h3>
                            <p>Python is a high-level, interpreted programming language known for its simplicity and readability. It's used for web development, data science, AI, and more.</p>
                            
                            <h3>Why Python?</h3>
                            <ul>
                                <li>Easy to learn and read</li>
                                <li>Versatile - used in many fields</li>
                                <li>Large community and libraries</li>
                                <li>Great for beginners and professionals</li>
                            </ul>
                            
                            <h3>Your First Python Program</h3>
                            <div class="code-block"><code>print("Hello, Python!")</code></div>
                            
                            <div class="success-box">
                                ‚úì That's all you need to print text in Python!
                            </div>
                        `
                    },
                    'Python Basics_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'Which function is used to print output in Python?',
                                options: [
                                    { text: 'print()', correct: true },
                                    { text: 'echo()', correct: false },
                                    { text: 'display()', correct: false },
                                    { text: 'output()', correct: false }
                                ]
                            },
                            {
                                question: 'What is Python known for?',
                                options: [
                                    { text: 'Difficulty and complexity', correct: false },
                                    { text: 'Simplicity and readability', correct: true },
                                    { text: 'Slow execution', correct: false },
                                    { text: 'Limited functionality', correct: false }
                                ]
                            },
                            {
                                question: 'Python is used for which of the following?',
                                options: [
                                    { text: 'Web development only', correct: false },
                                    { text: 'Web development, data science, and AI', correct: true },
                                    { text: 'Desktop applications only', correct: false },
                                    { text: 'Mobile apps exclusively', correct: false }
                                ]
                            }
                        ]
                    },
                    'Variables & Data Types': {
                        title: 'Variables and Data Types',
                        content: `
                            <h3>What are Variables?</h3>
                            <p>Variables store data values. In Python, you don't need to declare the type - Python figures it out.</p>
                            
                            <div class="code-block"><code>name = "John"
age = 25
height = 5.9
is_student = True</code></div>
                            
                            <h3>Python Data Types</h3>
                            <ul>
                                <li><strong>String</strong> - Text data: "Hello"</li>
                                <li><strong>Integer</strong> - Whole numbers: 42</li>
                                <li><strong>Float</strong> - Decimal numbers: 3.14</li>
                                <li><strong>Boolean</strong> - True or False</li>
                                <li><strong>List</strong> - Ordered collection: [1, 2, 3]</li>
                            </ul>
                            
                            <h3>Checking Data Types</h3>
                            <div class="code-block"><code>x = 10
print(type(x))  # Output: &lt;class 'int'&gt;</code></div>
                        `
                    },
                    'Variables & Data Types_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What is a variable in Python?',
                                options: [
                                    { text: 'A container that stores data values', correct: true },
                                    { text: 'A type of function', correct: false },
                                    { text: 'A Python library', correct: false },
                                    { text: 'An error message', correct: false }
                                ]
                            },
                            {
                                question: 'Which of the following is a valid integer data type?',
                                options: [
                                    { text: '"Hello"', correct: false },
                                    { text: '3.14', correct: false },
                                    { text: '42', correct: true },
                                    { text: '[1, 2, 3]', correct: false }
                                ]
                            },
                            {
                                question: 'Which function checks the type of a variable?',
                                options: [
                                    { text: 'get_type()', correct: false },
                                    { text: 'type()', correct: true },
                                    { text: 'check_type()', correct: false },
                                    { text: 'dtype()', correct: false }
                                ]
                            }
                        ]
                    },
                    'Operators': {
                        title: 'Python Operators',
                        content: `
                            <h3>Arithmetic Operators</h3>
                            <div class="code-block"><code>a = 10
b = 3
print(a + b)  # 13
print(a - b)  # 7
print(a * b)  # 30
print(a / b)  # 3.333...
print(a ** b) # 1000 (exponent)</code></div>
                            
                            <h3>Comparison Operators</h3>
                            <ul>
                                <li><strong>==</strong> - Equal to</li>
                                <li><strong>!=</strong> - Not equal</li>
                                <li><strong>&gt;</strong> - Greater than</li>
                                <li><strong>&lt;</strong> - Less than</li>
                                <li><strong>&gt;=</strong> - Greater or equal</li>
                                <li><strong>&lt;=</strong> - Less or equal</li>
                            </ul>
                        `
                    },
                    'Control Flow': {
                        title: 'Control Flow Statements',
                        content: `
                            <h3>If Statements</h3>
                            <div class="code-block"><code>age = 18
if age >= 18:
    print("You are an adult")
else:
    print("You are a minor")</code></div>
                            
                            <h3>Loops</h3>
                            <p><strong>For Loop:</strong></p>
                            <div class="code-block"><code>for i in range(5):
    print(i)  # Prints 0, 1, 2, 3, 4</code></div>
                        `
                    },
                    'Python_final_quiz': {
                        type: 'final_assessment',
                        totalMarks: 30,
                        passingPercentage: 85,
                        questions: [
                            { q: 'What is Python?', options: ['A web browser', 'A high-level programming language', 'A database', 'An operating system'], correct: 1 },
                            { q: 'How do you print output in Python?', options: ['echo()', 'print()', 'display()', 'output()'], correct: 1 },
                            { q: 'Which data type represents whole numbers?', options: ['str', 'float', 'int', 'bool'], correct: 2 },
                            { q: 'What is the correct syntax for a comment?', options: ['// comment', '/* comment */', '# comment', 'comment #'], correct: 2 },
                            { q: 'Which symbol is used for multiplication?', options: ['x', '*', 'mul', '/'], correct: 1 },
                            { q: 'How do you create a list in Python?', options: ['[1, 2, 3]', '{1, 2, 3}', '(1, 2, 3)', '<1, 2, 3>'], correct: 0 },
                            { q: 'What does len() function do?', options: ['Calculates length', 'Finds the longest item', 'Returns string length', 'All of above'], correct: 3 },
                            { q: 'How do you access the first element of a list?', options: ['list[1]', 'list[0]', 'list.first()', 'list.get(1)'], correct: 1 },
                            { q: 'What is a dictionary in Python?', options: ['A tool for spelling', 'Key-value pair collection', 'A list of words', 'A built-in module'], correct: 1 },
                            { q: 'How do you create a dictionary?', options: ['{}', '[]', '()', '<>'], correct: 0 },
                            { q: 'What does the range() function do?', options: ['Changes number range', 'Creates sequence of numbers', 'Finds number range', 'Sorts numbers'], correct: 1 },
                            { q: 'Which keyword is used to create a function?', options: ['function', 'def', 'func', 'define'], correct: 1 },
                            { q: 'How do you return a value from a function?', options: ['send value', 'return value', 'output value', 'print value'], correct: 1 },
                            { q: 'What is a loop used for?', options: ['Repeating code blocks', 'Creating functions', 'Storing data', 'Importing modules'], correct: 0 },
                            { q: 'What is the difference between == and = ?', options: ['No difference', '== is comparison, = is assignment', '= is comparison, == is assignment', 'Both are same'], correct: 1 },
                            { q: 'Which loop is best for a known number of iterations?', options: ['while loop', 'for loop', 'do-while', 'repeat'], correct: 1 },
                            { q: 'What does the split() method do?', options: ['Combines strings', 'Splits string into list', 'Reverses string', 'Removes spaces'], correct: 1 },
                            { q: 'How do you check if a value exists in a list?', options: ['list.contains()', 'in keyword', 'list.check()', 'list.find()'], correct: 1 },
                            { q: 'What is string slicing?', options: ['Cutting strings', 'Extracting substring', 'Combining strings', 'Counting characters'], correct: 1 },
                            { q: 'How do you convert string to integer?', options: ['str()', 'int()', 'float()', 'convert()'], correct: 1 },
                            { q: 'What does append() do?', options: ['Adds element to list', 'Removes element', 'Sorts list', 'Reverses list'], correct: 0 },
                            { q: 'What is None in Python?', options: ['Empty string', 'Zero value', 'Absence of value', 'False'], correct: 2 },
                            { q: 'How do you create a tuple?', options: ['[1, 2, 3]', '{1, 2, 3}', '(1, 2, 3)', 'tuple(1, 2, 3)'], correct: 2 },
                            { q: 'Can you modify a tuple after creation?', options: ['Yes', 'No', 'Only in some cases', 'Only values'], correct: 1 },
                            { q: 'What is the purpose of try-except?', options: ['Error handling', 'Creating functions', 'Loops', 'Data storage'], correct: 0 },
                            { q: 'How do you import a module?', options: ['load module', 'import module', 'use module', 'include module'], correct: 1 },
                            { q: 'What is a lambda function?', options: ['Large function', 'Anonymous function', 'Loop function', 'Class function'], correct: 1 },
                            { q: 'Which method removes duplicates from a list?', options: ['remove_duplicates()', 'set()', 'unique()', 'distinct()'], correct: 1 },
                            { q: 'What does isinstance() function check?', options: ['If variable exists', 'If value equals', 'If variable is instance of type', 'If string exists'], correct: 2 },
                            { q: 'How do you read a file in Python?', options: ['read_file()', 'open().read()', 'import file', 'file.load()'], correct: 1 }
                        ]
                    }
                }
            },
            'Front-End Developer': {
                title: 'Front-End Developer Course',
                description: 'Become a professional front-end developer with HTML, CSS, and JavaScript',
                modules: [
                    {
                        name: 'Module 1: HTML & CSS Foundation',
                        lessons: ['HTML Semantics', 'CSS Fundamentals', 'Flexbox', 'Grid Layout']
                    },
                    {
                        name: 'Module 2: JavaScript Core',
                        lessons: ['JS Basics', 'DOM & Events', 'Async JavaScript', 'ES6+ Features']
                    },
                    {
                        name: 'Module 3: Frameworks',
                        lessons: ['React Fundamentals', 'Components & Props', 'State Management', 'Routing & APIs']
                    },
                    {
                        name: 'Module 4: Front-End Craft',
                        lessons: ['Accessibility', 'Performance Optimization', 'Tooling & Build', 'Testing & QA']
                    }
                ],
                lessons: {
                    'HTML Basics': {
                        title: 'Front-End: HTML Foundations',
                        content: `<h3>Front-End Development Overview</h3><p>Front-end development is about creating the user interface and user experience of websites and applications.</p>`
                    },
                    'HTML Basics_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What is front-end development?',
                                options: [
                                    { text: 'Creating server-side code', correct: false },
                                    { text: 'Creating user interface and user experience', correct: true },
                                    { text: 'Managing databases', correct: false },
                                    { text: 'Deploying applications', correct: false }
                                ]
                            },
                            {
                                question: 'Which language is the foundation of front-end development?',
                                options: [
                                    { text: 'Python', correct: false },
                                    { text: 'Java', correct: false },
                                    { text: 'HTML', correct: true },
                                    { text: 'SQL', correct: false }
                                ]
                            },
                            {
                                question: 'What is the role of CSS in front-end development?',
                                options: [
                                    { text: 'To create the structure', correct: false },
                                    { text: 'To make it interactive', correct: false },
                                    { text: 'To style and design the interface', correct: true },
                                    { text: 'To manage databases', correct: false }
                                ]
                            }
                        ]
                    },
                    'CSS Styling': {
                        title: 'CSS Styling Basics',
                        content: `<h3>CSS Selectors</h3><p>Learn how to style your HTML elements with CSS.</p>`
                    },
                    'CSS Styling_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What does CSS stand for?',
                                options: [
                                    { text: 'Cascading Style Sheets', correct: true },
                                    { text: 'Computer Style System', correct: false },
                                    { text: 'Creative Styling Solution', correct: false },
                                    { text: 'Cascading Script Sheets', correct: false }
                                ]
                            },
                            {
                                question: 'What is a CSS selector?',
                                options: [
                                    { text: 'A tool for selecting colors', correct: false },
                                    { text: 'A way to target HTML elements to style', correct: true },
                                    { text: 'A function in JavaScript', correct: false },
                                    { text: 'A database query tool', correct: false }
                                ]
                            },
                            {
                                question: 'Which of the following is a valid CSS selector?',
                                options: [
                                    { text: '.classname', correct: true },
                                    { text: 'classname', correct: false },
                                    { text: '#.classname', correct: false },
                                    { text: '@classname', correct: false }
                                ]
                            }
                        ]
                    },
                    'Flexbox': {
                        title: 'Flexbox Layout',
                        content: `<h3>Introduction to Flexbox</h3><p>Flexbox is a powerful layout tool for creating responsive designs.</p>`
                    },
                    'Grid Layout': {
                        title: 'CSS Grid',
                        content: `<h3>CSS Grid Basics</h3><p>Grid allows you to create two-dimensional layouts.</p>`
                    },
                    'FrontEnd_final_quiz': {
                        type: 'final_assessment',
                        totalMarks: 30,
                        passingPercentage: 85,
                        questions: [
                            { q: 'What does HTML stand for?', options: ['Hyper Text Markup Language', 'High Tech Modern Language', 'Home Tool Markup Language', 'Hyperlinks and Text Markup Language'], correct: 0 },
                            { q: 'What does CSS stand for?', options: ['Cascading Style Sheets', 'Computer Style System', 'Creative Styling Solution', 'Cascading Script Sheets'], correct: 0 },
                            { q: 'Which language adds interactivity to web pages?', options: ['HTML', 'CSS', 'JavaScript', 'SQL'], correct: 2 },
                            { q: 'How do you select an element by class in CSS?', options: ['#classname', '.classname', '@classname', '&classname'], correct: 1 },
                            { q: 'What is the box model in CSS?', options: ['A design pattern', 'Margin, border, padding, and content', 'A layout system', 'A color scheme'], correct: 1 },
                            { q: 'Which property is used for text color?', options: ['text-color', 'color', 'font-color', 'text-style'], correct: 1 },
                            { q: 'What does flexbox do?', options: ['Adds colors', 'Creates flexible layouts', 'Manages databases', 'Handles files'], correct: 1 },
                            { q: 'How do you center content with flexbox?', options: ['text-align: center', 'justify-content: center', 'margin: auto', 'float: center'], correct: 1 },
                            { q: 'What is a CSS grid?', options: ['A color palette', 'A 2D layout system', 'A font system', 'A styling rule'], correct: 1 },
                            { q: 'How do you link CSS to HTML?', options: ['<style src="...">', '<link rel="stylesheet" href="...">', '<css src="...">', '<import css="...">'], correct: 1 },
                            { q: 'What is responsive design?', options: ['Making websites responsive to user input', 'Making websites look good on all devices', 'Making websites respond faster', 'Adding animations'], correct: 1 },
                            { q: 'Which CSS property controls spacing outside an element?', options: ['padding', 'margin', 'border', 'gap'], correct: 1 },
                            { q: 'What is z-index used for?', options: ['Compression', 'Stacking order of elements', 'Zooming', 'Alignment'], correct: 1 },
                            { q: 'How do you select all elements in CSS?', options: ['all {}', '* {}', 'body {}', 'element {}'], correct: 1 },
                            { q: 'What does DOM stand for?', options: ['Document Object Model', 'Data Organization Model', 'Design Operating Module', 'Digital Object Management'], correct: 0 },
                            { q: 'How do you add an event listener in JavaScript?', options: ['addEventListener()', 'addEvent()', 'onEvent()', 'bindEvent()'], correct: 0 },
                            { q: 'What is the purpose of JavaScript?', options: ['Structure content', 'Style content', 'Add interactivity', 'Manage databases'], correct: 2 },
                            { q: 'How do you select an HTML element by ID in JavaScript?', options: ['getElementByClass()', 'getElementById()', 'getElement()', 'querySelector()'], correct: 1 },
                            { q: 'What is a function in JavaScript?', options: ['A variable', 'A block of reusable code', 'A data type', 'An operator'], correct: 1 },
                            { q: 'How do you prevent form submission?', options: ['return false', 'preventDefault()', 'stopSubmit()', 'cancelEvent()'], correct: 1 },
                            { q: 'What is the purpose of media queries?', options: ['Playing videos', 'Making responsive layouts', 'Loading files', 'Connecting to APIs'], correct: 1 },
                            { q: 'How do you rotate an element in CSS?', options: ['rotate()', 'transform: rotate()', 'spin()', 'turn()'], correct: 1 },
                            { q: 'What is a callback function?', options: ['Function that calls a variable', 'Function passed as argument to another function', 'Function that returns void', 'Function without parameters'], correct: 1 },
                            { q: 'How do you add a class to an element using JavaScript?', options: ['addClass()', 'class.add()', 'classList.add()', 'addClass()'], correct: 2 },
                            { q: 'What is localStorage?', options: ['Local storage device', 'Browser storage for data', 'Server storage', 'Cache memory'], correct: 1 },
                            { q: 'How do you fetch data from an API?', options: ['fetch()', 'getData()', 'request()', 'query()'], correct: 0 },
                            { q: 'What is the difference between let and var?', options: ['No difference', 'let has block scope, var has function scope', 'var is modern', 'let is older'], correct: 1 },
                            { q: 'What is a promise in JavaScript?', options: ['A function', 'Object for async operations', 'A variable', 'A loop'], correct: 1 },
                            { q: 'How do you write an arrow function?', options: ['function() {}', '() => {}', 'func() {}', 'function => {}'], correct: 1 },
                            { q: 'What is the purpose of async/await?', options: ['Sleeping code', 'Handling asynchronous operations', 'Waiting for user input', 'Pausing loops'], correct: 1 }
                        ]
                    }
                }
            },
            'Full Stack Developer': {
                title: 'Full Stack Developer Path',
                description: 'Master front-end and back-end development',
                modules: [
                    {
                        name: 'Module 1: Front-End Essentials',
                        lessons: ['HTML/CSS Recap', 'Modern JavaScript', 'React Basics', 'State & Routing']
                    },
                    {
                        name: 'Module 2: Back-End Foundations',
                        lessons: ['Node.js Fundamentals', 'Express Routing', 'Auth & Security', 'Databases & ORM']
                    },
                    {
                        name: 'Module 3: APIs & Services',
                        lessons: ['REST Design', 'GraphQL Intro', 'Caching & Queues', 'Testing APIs']
                    },
                    {
                        name: 'Module 4: DevOps & Deployment',
                        lessons: ['Git & CI/CD', 'Docker Basics', 'Cloud Deployment', 'Monitoring & Observability']
                    }
                ],
                lessons: {
                    'HTML & CSS': {
                        title: 'Full Stack: Front-End Fundamentals',
                        content: `<h3>Full Stack Overview</h3><p>A full-stack developer works on both front-end and back-end.</p>`
                    },
                    'JavaScript': {
                        title: 'JavaScript Fundamentals',
                        content: `<h3>JavaScript Basics</h3><p>JavaScript is the programming language of the web.</p>`
                    },
                    'React': {
                        title: 'React Framework',
                        content: `<h3>Introduction to React</h3><p>React is a library for building user interfaces.</p>`
                    },
                    'State Management': {
                        title: 'State Management in React',
                        content: `<h3>Managing Application State</h3><p>State management is crucial for large applications.</p>`
                    }
                }
            },
            'Back-End Developer': {
                title: 'Back-End Developer Course',
                description: 'Build scalable server-side applications and APIs',
                modules: [
                    {
                        name: 'Module 1: Node & JS Core',
                        lessons: ['JavaScript Refresh', 'Node.js Runtime', 'Async Patterns', 'File System & Streams']
                    },
                    {
                        name: 'Module 2: Express Services',
                        lessons: ['Express Basics', 'Routing & Middleware', 'Auth & Security', 'Validation & Error Handling']
                    },
                    {
                        name: 'Module 3: Data Layer',
                        lessons: ['SQL Basics', 'MongoDB & NoSQL', 'ORM/ODM', 'Caching & Performance']
                    },
                    {
                        name: 'Module 4: Ops & Quality',
                        lessons: ['Logging & Monitoring', 'Testing APIs', 'Scalability Patterns', 'Deployment & CI/CD']
                    }
                ],
                lessons: {
                    'Node.js Basics': {
                        title: 'Introduction to Node.js',
                        content: `<h3>What is Node.js?</h3><p>Node.js allows you to run JavaScript on servers.</p>`
                    },
                    'Node.js Basics_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What is Node.js?',
                                options: [
                                    { text: 'A JavaScript framework for front-end', correct: false },
                                    { text: 'A JavaScript runtime for running JS on servers', correct: true },
                                    { text: 'A database management system', correct: false },
                                    { text: 'A CSS preprocessor', correct: false }
                                ]
                            },
                            {
                                question: 'What is the primary use of Node.js?',
                                options: [
                                    { text: 'Creating beautiful websites', correct: false },
                                    { text: 'Building server-side applications and APIs', correct: true },
                                    { text: 'Mobile app development', correct: false },
                                    { text: 'Game development', correct: false }
                                ]
                            },
                            {
                                question: 'Is Node.js synchronous or asynchronous?',
                                options: [
                                    { text: 'Synchronous only', correct: false },
                                    { text: 'Asynchronous and event-driven', correct: true },
                                    { text: 'Neither', correct: false },
                                    { text: 'It depends on the version', correct: false }
                                ]
                            }
                        ]
                    },
                    'NPM & Packages': {
                        title: 'NPM and Package Management',
                        content: `<h3>What is NPM?</h3><p>NPM is the package manager for JavaScript.</p>`
                    },
                    'NPM & Packages_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'What does NPM stand for?',
                                options: [
                                    { text: 'Node Package Manager', correct: true },
                                    { text: 'New Programming Module', correct: false },
                                    { text: 'Network Protocol Module', correct: false },
                                    { text: 'Numerical Package Module', correct: false }
                                ]
                            },
                            {
                                question: 'What is the main purpose of NPM?',
                                options: [
                                    { text: 'To compile code', correct: false },
                                    { text: 'To manage and share packages/libraries', correct: true },
                                    { text: 'To host websites', correct: false },
                                    { text: 'To manage databases', correct: false }
                                ]
                            },
                            {
                                question: 'Which file stores project dependencies in NPM?',
                                options: [
                                    { text: 'dependencies.txt', correct: false },
                                    { text: 'package.json', correct: true },
                                    { text: 'requirements.txt', correct: false },
                                    { text: 'config.js', correct: false }
                                ]
                            }
                        ]
                    },
                    'File System': {
                        title: 'Working with File System',
                        content: `<h3>Node.js fs Module</h3><p>The fs module allows you to work with files.</p>`
                    },
                    'Events': {
                        title: 'Event-Driven Architecture',
                        content: `<h3>Node.js Event Emitter</h3><p>Event-driven programming is a core concept in Node.js.</p>`
                    },
                    'Backend_final_quiz': {
                        type: 'final_assessment',
                        totalMarks: 30,
                        passingPercentage: 85,
                        questions: [
                            { q: 'What is Node.js?', options: ['A framework', 'A JavaScript runtime for servers', 'A database', 'A frontend library'], correct: 1 },
                            { q: 'What does NPM stand for?', options: ['Node Package Manager', 'New Programming Module', 'Network Protocol Module', 'Numerical Package Module'], correct: 0 },
                            { q: 'Which module is used to create HTTP servers?', options: ['fs', 'http', 'path', 'os'], correct: 1 },
                            { q: 'What is Express.js?', options: ['A CSS library', 'A web application framework', 'A database', 'A testing tool'], correct: 1 },
                            { q: 'How do you create a route in Express?', options: ['app.path()', 'app.route()', 'app.get()', 'app.define()'], correct: 2 },
                            { q: 'What does REST API stand for?', options: ['Real Easy Server Tool', 'Representational State Transfer API', 'Remote Easy Server Access', 'Real-time Server Transfer'], correct: 1 },
                            { q: 'Which HTTP method is used to retrieve data?', options: ['POST', 'PUT', 'GET', 'DELETE'], correct: 2 },
                            { q: 'What is middleware in Express?', options: ['A database layer', 'Functions that process requests/responses', 'A routing tool', 'A testing framework'], correct: 1 },
                            { q: 'Which database is NoSQL?', options: ['SQL Server', 'PostgreSQL', 'MongoDB', 'Oracle'], correct: 2 },
                            { q: 'What does MongoDB store data as?', options: ['Tables', 'Documents', 'Files', 'Objects'], correct: 1 },
                            { q: 'How do you connect to MongoDB?', options: ['mongoose.connect()', 'db.connect()', 'mongo.open()', 'connect()'], correct: 0 },
                            { q: 'What is authentication?', options: ['Checking user identity', 'Checking user permissions', 'Storing passwords', 'Validating data'], correct: 0 },
                            { q: 'What is JSON?', options: ['JavaScript Object Notation', 'Java Syntax Notation', 'JSON Object Name', 'JavaScript Operation Network'], correct: 0 },
                            { q: 'How do you parse JSON?', options: ['JSON.parse()', 'JSON.convert()', 'JSON.read()', 'JSON.load()'], correct: 0 },
                            { q: 'What is status code 200?', options: ['Bad Request', 'Server Error', 'OK/Success', 'Not Found'], correct: 2 },
                            { q: 'What does the fs module do?', options: ['Creates servers', 'Works with files', 'Manages databases', 'Handles requests'], correct: 1 },
                            { q: 'How do you read a file in Node.js?', options: ['fs.readFile()', 'fs.open()', 'fs.read()', 'fs.load()'], correct: 0 },
                            { q: 'What is a callback in Node.js?', options: ['A function that calls back', 'A function passed as argument executed later', 'A return function', 'A promise'], correct: 1 },
                            { q: 'What is async/await?', options: ['Fast code execution', 'Asynchronous programming syntax', 'Error handling', 'Promise wrapper'], correct: 1 },
                            { q: 'How do you handle errors in Express?', options: ['try-catch', 'error handlers', 'middleware', 'All of above'], correct: 3 },
                            { q: 'What is CORS?', options: ['Common Online Resource Sharing', 'Cross-Origin Resource Sharing', 'Central Origin Response System', 'Computer Resource System'], correct: 1 },
                            { q: 'What does req.body contain?', options: ['Request URL', 'Request headers', 'Request body data', 'Request method'], correct: 2 },
                            { q: 'How do you send a response in Express?', options: ['res.send()', 'res.write()', 'res.end()', 'All of above'], correct: 3 },
                            { q: 'What is the purpose of environment variables?', options: ['Store sensitive data', 'Configure application', 'Handle secrets', 'All of above'], correct: 3 },
                            { q: 'Which tool manages dependencies?', options: ['Yarn', 'npm', 'Both', 'Neither'], correct: 2 },
                            { q: 'What is CI/CD?', options: ['Continuous Integration/Continuous Deployment', 'Code Integration/Code Development', 'Computer Installation/Configuration Delivery', 'Custom Interface/Control Dashboard'], correct: 0 },
                            { q: 'How do you upload files?', options: ['FormData', 'multipart/form-data', 'File API', 'All of above'], correct: 3 },
                            { q: 'What is clustering in Node.js?', options: ['Grouping data', 'Using multiple CPU cores', 'Organizing files', 'Managing memory'], correct: 1 },
                            { q: 'How do you secure passwords?', options: ['Hash them', 'Encrypt them', 'Salt them', 'All of above'], correct: 3 },
                            { q: 'What is rate limiting?', options: ['Speed limit', 'Request limit per time', 'File size limit', 'Connection limit'], correct: 1 }
                        ]
                    }
                }
            },
            'Data Science': {
                title: 'Data Science Course',
                description: 'Learn data analysis, visualization, and machine learning',
                modules: [
                    {
                        name: 'Module 1: Python for Data Science',
                        lessons: ['Python Refresher', 'NumPy Essentials', 'Pandas Core', 'Data Cleaning']
                    },
                    {
                        name: 'Module 2: Exploration & Visualization',
                        lessons: ['EDA Basics', 'Matplotlib', 'Seaborn', 'Storytelling with Data']
                    },
                    {
                        name: 'Module 3: Machine Learning',
                        lessons: ['ML Foundations', 'Supervised Learning', 'Unsupervised Learning', 'Model Evaluation']
                    },
                    {
                        name: 'Module 4: Advanced Topics',
                        lessons: ['Feature Engineering', 'Time Series', 'NLP Basics', 'MLOps & Deployment']
                    }
                ],
                lessons: {
                    'Python Review': {
                        title: 'Python for Data Science',
                        content: `<h3>Python Data Science Stack</h3><p>Python is the leading language for data science.</p>`
                    },
                    'Python Review_quiz': {
                        type: 'quiz',
                        questions: [
                            {
                                question: 'Why is Python popular for data science?',
                                options: [
                                    { text: 'It is the fastest language', correct: false },
                                    { text: 'It has extensive libraries for data analysis and ML', correct: true },
                                    { text: 'It is the only language used in data science', correct: false },
                                    { text: 'It requires no learning curve', correct: false }
                                ]
                            },
                            {
                                question: 'What is the main purpose of NumPy and Pandas?',
                                options: [
                                    { text: 'To create websites', correct: false },
                                    { text: 'To manipulate and analyze data', correct: true },
                                    { text: 'To create databases', correct: false },
                                    { text: 'To compile Python code', correct: false }
                                ]
                            },
                            {
                                question: 'What is data science?',
                                options: [
                                    { text: 'The science of storing data', correct: false },
                                    { text: 'Extracting insights from data', correct: true },
                                    { text: 'Building databases', correct: false },
                                    { text: 'Coding in Python only', correct: false }
                                ]
                            }
                        ]
                    },
                    'NumPy': {
                        title: 'NumPy for Numerical Computing',
                        content: `<h3>NumPy Basics</h3><p>NumPy provides powerful array operations.</p>`
                    },
                    'Pandas': {
                        title: 'Data Manipulation with Pandas',
                        content: `<h3>Pandas DataFrames</h3><p>Pandas provides tools for working with data.</p>`
                    },
                    'Data Cleaning': {
                        title: 'Data Cleaning Techniques',
                        content: `<h3>Handling Missing Data</h3><p>Data cleaning is a crucial step in data science.</p>`
                    },
                    'DataScience_final_quiz': {
                        type: 'final_assessment',
                        totalMarks: 30,
                        passingPercentage: 85,
                        questions: [
                            { q: 'What is data science?', options: ['Science of storing data', 'Extracting insights from data', 'Creating databases', 'Cleaning files'], correct: 1 },
                            { q: 'Which language is most used for data science?', options: ['Java', 'C++', 'Python', 'JavaScript'], correct: 2 },
                            { q: 'What is NumPy?', options: ['A web framework', 'Python library for numerical computing', 'A database', 'A visualization tool'], correct: 1 },
                            { q: 'What is Pandas used for?', options: ['Cooking', 'Data manipulation and analysis', 'Machine learning', 'Web development'], correct: 1 },
                            { q: 'What is a DataFrame?', options: ['A picture frame', '2D table-like data structure', 'A function', 'A variable'], correct: 1 },
                            { q: 'How do you import pandas?', options: ['import Pandas', 'import pandas as pd', 'from pandas import *', 'require pandas'], correct: 1 },
                            { q: 'What is the purpose of data cleaning?', options: ['Making data beautiful', 'Removing errors and inconsistencies', 'Creating backups', 'Compressing data'], correct: 1 },
                            { q: 'What are missing values represented as in Python?', options: ['0', 'Null', 'NaN', 'None'], correct: 2 },
                            { q: 'What is exploratory data analysis?', options: ['Analyzing code', 'Understanding data through visualization', 'Testing code', 'Debugging'], correct: 1 },
                            { q: 'Which library is used for data visualization?', options: ['Matplotlib', 'NumPy', 'Pandas', 'Scikit-learn'], correct: 0 },
                            { q: 'What is correlation?', options: ['Relationship strength', 'Data sorting', 'File organization', 'Memory allocation'], correct: 0 },
                            { q: 'What does correlation range from?', options: ['-1 to 0', '0 to 1', '-1 to 1', '0 to 100'], correct: 2 },
                            { q: 'What is machine learning?', options: ['Computers making decisions from data', 'Computer assembly', 'Programming', 'File management'], correct: 0 },
                            { q: 'What is supervised learning?', options: ['Learning with labels', 'Learning without labels', 'Learning from internet', 'Learning from files'], correct: 0 },
                            { q: 'What is unsupervised learning?', options: ['Learning with labels', 'Learning without labels', 'Learning alone', 'Random learning'], correct: 1 },
                            { q: 'Which library has ML algorithms?', options: ['Matplotlib', 'NumPy', 'Scikit-learn', 'Pandas'], correct: 2 },
                            { q: 'What is feature scaling?', options: ['Feature size', 'Normalizing feature values', 'Feature selection', 'Feature removal'], correct: 1 },
                            { q: 'What is overfitting?', options: ['Model training', 'Model memorizing data', 'Model testing', 'Model validation'], correct: 1 },
                            { q: 'What is cross-validation?', options: ['Checking validity', 'Splitting data for testing', 'Validating code', 'Cross-checking files'], correct: 1 },
                            { q: 'What is accuracy in ML?', options: ['Speed metric', 'Correct predictions ratio', 'Memory usage', 'Data size'], correct: 1 },
                            { q: 'What is a decision tree?', options: ['A tree data structure', 'ML algorithm for classification', 'A file structure', 'A company org chart'], correct: 1 },
                            { q: 'What is clustering?', options: ['Grouping similar data', 'Data storage', 'File compression', 'Memory management'], correct: 0 },
                            { q: 'What is K-Means?', options: ['A programming language', 'A clustering algorithm', 'A data type', 'A library'], correct: 1 },
                            { q: 'What is deep learning?', options: ['Learning deeply', 'ML using neural networks', 'Advanced algorithm', 'Complex data'], correct: 1 },
                            { q: 'What is a neural network?', options: ['Computer network', 'Brain-inspired ML model', 'Internet connection', 'Server system'], correct: 1 },
                            { q: 'What is TensorFlow?', options: ['Tensor tools', 'ML library by Google', 'Data flow system', 'Programming language'], correct: 1 },
                            { q: 'What is NLP?', options: ['Network Layer Protocol', 'Natural Language Processing', 'Network Logic Programming', 'New Language Protocol'], correct: 1 },
                            { q: 'What does ROC curve measure?', options: ['Speed', 'Classification performance', 'Data size', 'Memory usage'], correct: 1 },
                            { q: 'What is regression?', options: ['Going back', 'Predicting continuous values', 'Data backward', 'Reverse operation'], correct: 1 },
                            { q: 'What is the purpose of train-test split?', options: ['Splitting data', 'Testing model performance', 'Creating datasets', 'Validating code'], correct: 1 }
                        ]
                    }
                }
            },
            'AI & Machine Learning': {
                title: 'AI & Machine Learning',
                description: 'Build intelligent systems with machine learning and AI',
                modules: [
                    {
                        name: 'Module 1: ML Fundamentals',
                        lessons: ['What is ML?', 'Supervised Learning', 'Unsupervised Learning', 'Evaluation']
                    },
                    {
                        name: 'Module 2: Deep Learning',
                        lessons: ['Neural Networks', 'TensorFlow', 'Convolutional Networks', 'RNN']
                    },
                    {
                        name: 'Module 3: Advanced Topics',
                        lessons: ['NLP', 'Computer Vision', 'Reinforcement Learning', 'Deployment']
                    }
                ],
                lessons: {
                    'What is ML?': {
                        title: 'Introduction to Machine Learning',
                        content: `<h3>What is Machine Learning?</h3><p>Machine Learning is where systems learn from data.</p>`
                    },
                    'Supervised Learning': {
                        title: 'Supervised Learning',
                        content: `<h3>Classification vs Regression</h3><p>Different types of supervised learning.</p>`
                    },
                    'Unsupervised Learning': {
                        title: 'Unsupervised Learning',
                        content: `<h3>Clustering</h3><p>Finding patterns in unlabeled data.</p>`
                    },
                    'Evaluation': {
                        title: 'Model Evaluation',
                        content: `<h3>Evaluation Metrics</h3><p>Metrics to measure model performance.</p>`
                    }
                }
            }
        };

        const generateLessonPlaceholder = (courseTitle, lessonName) => {
            const safeTitle = lessonName || 'Lesson';
            return {
                title: safeTitle,
                content: `
                    <h3>${safeTitle}</h3>
                    <p>This chapter covers <strong>${safeTitle}</strong> for the <strong>${courseTitle}</strong> path.</p>
                    <ul>
                        <li>Why it matters for ${courseTitle}</li>
                        <li>Core principles and best practices</li>
                        <li>Hands-on examples to try</li>
                        <li>Common pitfalls to avoid</li>
                    </ul>
                    <div class="info-box"><strong>Tip:</strong> Take notes and code along to retain concepts.</div>
                `
            };
        };

        // ============================================
        // Theme Management
        // ============================================

        const themeToggle = document.getElementById('themeToggle');
        const body = document.body;

        const initializeTheme = () => {
            const savedTheme = localStorage.getItem('theme') || 'light';
            if (savedTheme === 'dark') {
                body.classList.add('dark-mode');
                updateThemeIcon();
            }
        };

        themeToggle.addEventListener('click', () => {
            body.classList.toggle('dark-mode');
            const isDark = body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            updateThemeIcon();
        });

        const updateThemeIcon = () => {
            if (body.classList.contains('dark-mode')) {
                themeToggle.innerHTML = '<i class="fas fa-sun"></i>';
            } else {
                themeToggle.innerHTML = '<i class="fas fa-moon"></i>';
            }
        };

        // ============================================
        // Course Loading
        // ============================================

        let currentCourseKey = '';
        let currentLessonIndex = 0;
        let lessonsOrder = [];

        const loadCourse = () => {
            const params = new URLSearchParams(window.location.search);
            currentCourseKey = params.get('course') || 'HTML';
            
            const course = courseData[currentCourseKey];
            
            if (!course) {
                window.location.href = 'learning-platform.html';
                return;
            }

            document.getElementById('navCourseTitle').textContent = course.title;
            document.getElementById('sidebarTitle').textContent = course.title;
            document.getElementById('courseHeading').textContent = course.title;
            document.getElementById('courseDescription').textContent = course.description;
            document.getElementById('breadcrumbCourse').textContent = course.title;

            lessonsOrder = [];
            course.modules.forEach(module => {
                module.lessons.forEach(lesson => {
                    lessonsOrder.push(lesson);
                });
            });

            renderModules(course);
            
            // Load saved progress (stored as percent of completed lessons)
            const savedProgress = localStorage.getItem(`progress_${currentCourseKey}`);
            if (savedProgress !== null) {
                const progressPercent = Number(savedProgress) || 0;
                const totalLessons = lessonsOrder.length;
                // Convert percent back to completed lesson count
                let completed = Math.round((progressPercent / 100) * totalLessons);
                if (completed >= totalLessons) completed = totalLessons - 1;
                if (completed < 0) completed = 0;
                // currentLessonIndex should point to the next lesson to view (completed count)
                currentLessonIndex = completed;
            } else {
                currentLessonIndex = 0;
            }
            
            loadLesson(currentLessonIndex);
            updateProgress(course);
        };

        const renderModules = (course) => {
            const modulesList = document.getElementById('modulesList');
            modulesList.innerHTML = '';

            course.modules.forEach((module, moduleIndex) => {
                const moduleItem = document.createElement('li');
                moduleItem.innerHTML = `
                    <i class="fas fa-book"></i>
                    <span>${module.name}</span>
                    <span class="lesson-count">${module.lessons.length}</span>
                `;
                moduleItem.className = 'module-item';
                
                moduleItem.addEventListener('click', () => {
                    let lessonIndex = 0;
                    course.modules.forEach((m, i) => {
                        if (i < moduleIndex) {
                            lessonIndex += m.lessons.length;
                        }
                    });
                    loadLesson(lessonIndex);
                    updateActiveModule();
                });

                modulesList.appendChild(moduleItem);
            });
        };

        const loadLesson = (index) => {
            const course = courseData[currentCourseKey];
            const lessonName = lessonsOrder[index];
            let lesson = course.lessons[lessonName];

            if (!lesson) {
                lesson = generateLessonPlaceholder(course.title, lessonName);
                course.lessons[lessonName] = lesson;
            }

            currentLessonIndex = index;

            document.getElementById('lessonTitle').textContent = lesson.title;
            document.getElementById('lessonNumber').textContent = `Lesson ${index + 1} of ${lessonsOrder.length}`;
            document.getElementById('lessonBody').innerHTML = lesson.content;

            updateLessonButtons();
            updateProgressBar();
            updateActiveModule();
        };

        const updateLessonButtons = () => {
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const totalLessons = lessonsOrder.length;

            if (currentLessonIndex === 0) {
                prevBtn.style.display = 'none';
            } else {
                prevBtn.style.display = 'flex';
            }

            if (currentLessonIndex === totalLessons - 1) {
                nextBtn.innerHTML = 'Complete Course <i class="fas fa-check"></i>';
            } else {
                nextBtn.innerHTML = 'Next <i class="fas fa-chevron-right"></i>';
            }

            prevBtn.onclick = () => {
                if (currentLessonIndex > 0) {
                    loadLesson(currentLessonIndex - 1);
                    window.scrollTo(0, 0);
                }
            };

            nextBtn.onclick = () => {
                if (currentLessonIndex < lessonsOrder.length - 1) {
                    loadLesson(currentLessonIndex + 1);
                    window.scrollTo(0, 0);
                } else {
                    completeCourse();
                }
            };
        };

        const updateProgressBar = () => {
            // Progress is based on completed lessons (currentLessonIndex)
            // Being on the first lesson (index 0) means 0% completed.
            const completed = currentLessonIndex; // number of completed lessons
            const total = lessonsOrder.length;
            const progress = (completed / total) * 100;

            document.getElementById('lessonProgressBar').style.width = progress + '%';
            document.getElementById('progressLabel').textContent = `${completed} of ${total}`;

            // Save progress to localStorage (store percentage of completed lessons)
            localStorage.setItem(`progress_${currentCourseKey}`, Math.round(progress));

            // Enable "Mark Course Complete" when progress reaches 95% or more
            const markBtn = document.getElementById('markCompleteBtn');
            if (markBtn) {
                if (progress >= 95) {
                    markBtn.disabled = false;
                    markBtn.style.opacity = '1';
                    markBtn.style.cursor = 'pointer';
                } else {
                    markBtn.disabled = true;
                    markBtn.style.opacity = '0.6';
                    markBtn.style.cursor = 'not-allowed';
                }
            }
            // Also update the overall circular progress UI for this course
            const course = courseData[currentCourseKey];
            if (course) updateProgress(course);
        };

        const updateProgress = (course) => {
            const totalModules = course.modules.reduce((sum, m) => sum + m.lessons.length, 0);
            const completed = currentLessonIndex;
            const progress = (completed / totalModules) * 100;

            document.getElementById('progressPercent').textContent = Math.round(progress) + '%';

            const circumference = 2 * Math.PI * 35;
            const offset = circumference - (progress / 100) * circumference;
            const circle = document.getElementById('progressCircle');
            if (circle) {
                circle.style.strokeDashoffset = offset;
            }
        };

        const updateActiveModule = () => {
            const course = courseData[currentCourseKey];
            const items = document.querySelectorAll('.module-item');
            
            let lessonCount = 0;
            course.modules.forEach((module, moduleIndex) => {
                const isActive = currentLessonIndex >= lessonCount && currentLessonIndex < lessonCount + module.lessons.length;
                items[moduleIndex].classList.toggle('active', isActive);
                lessonCount += module.lessons.length;
            });
        };

        const showQuizModal = (quizKey, nextLessonIndex) => {
            const quizData = courseData[currentCourseKey].lessons[quizKey];
            if (!quizData || !quizData.questions) return;

            let quizHTML = '<div class="quiz-questions">';
            quizData.questions.forEach((question, idx) => {
                quizHTML += `
                    <div class="quiz-question" style="margin-bottom: 30px;">
                        <p style="font-weight: 600; margin-bottom: 15px; font-size: 16px;">
                            <span style="background: var(--primary-color); color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin-right: 8px;">Q${idx + 1}</span>
                            ${question.question}
                        </p>
                        <div class="quiz-options" style="margin-left: 20px;">
                            ${question.options.map((option, optIdx) => `
                                <label style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer; padding: 10px; border-radius: 6px; transition: background 0.2s; hover: background var(--bg-light-secondary);">
                                    <input type="radio" name="question_${idx}" value="${optIdx}" style="width: 18px; height: 18px; cursor: pointer; margin-right: 12px;">
                                    <span>${option.text}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            quizHTML += '</div>';

            document.getElementById('quizTitle').textContent = 'Lesson Quiz';
            document.getElementById('quizContent').innerHTML = quizHTML;
            document.querySelector('.quiz-actions').style.display = 'flex';
            document.getElementById('quizModal').classList.add('active');

            // Handle quiz submission
            document.getElementById('submitQuiz').onclick = async () => {
                // Check if all questions are answered
                const answered = quizData.questions.every((q, idx) => {
                    return document.querySelector(`input[name="question_${idx}"]:checked`);
                });

                if (!answered) {
                    alert('Please answer all questions before submitting');
                    return;
                }

                // Check if all answers are correct
                let allCorrect = true;
                quizData.questions.forEach((question, idx) => {
                    const selectedOption = document.querySelector(`input[name="question_${idx}"]:checked`);
                    const selectedIdx = parseInt(selectedOption.value);
                    if (!question.options[selectedIdx].correct) {
                        allCorrect = false;
                    }
                });

                if (!allCorrect) {
                    alert('Some answers are incorrect. Please try again!');
                    // Reset form
                    document.querySelectorAll('.quiz-questions input[type="radio"]').forEach(input => {
                        input.checked = false;
                    });
                    return;
                }

                // All correct - award XP and proceed
                await addXP(150);
                showXPToast(150, "Quiz Passed");
                document.getElementById('quizModal').classList.remove('active');
                loadLesson(nextLessonIndex);
                window.scrollTo(0, 0);
            };

            // Handle skip quiz
            document.getElementById('skipQuiz').onclick = () => {
                document.getElementById('quizModal').classList.remove('active');
                loadLesson(nextLessonIndex);
                window.scrollTo(0, 0);
            };
        };

        const completeCourse = () => {
            const course = courseData[currentCourseKey];
            
            if (questionBanks[currentCourseKey]) {
                showQuizRules(currentCourseKey);
            } else {
                showFinalAssessment(course);
            }
        };

        // ============================================
        // HTML QUIZ SYSTEM - 100 Questions, 30 Random per attempt
        // ============================================

        const htmlQuestionBank = [
            { q: "Who is known as the father of HTML?", options: ["Tim Berners-Lee", "Bill Gates", "Mark Zuckerberg", "Steve Jobs"], answer: 0 },
            { q: "What does HTML stand for?", options: ["HyperText Markup Language", "High-Level Text Machine Language", "Hyperlink and Text Management Language", "Home Tool Markup Language"], answer: 0 },
            { q: "Which tag is used to create a hyperlink in HTML?", options: ["<link>", "<a>", "<href>", "<hyperlink>"], answer: 1 },
            { q: "What is the purpose of the <head> tag in HTML?", options: ["To define the main content of the document", "To define metadata about the document", "To define a header for the document", "To define a footer for the document"], answer: 1 },
            { q: "Which attribute is used to uniquely identify an HTML element?", options: ["class", "id", "name", "type"], answer: 1 },
            { q: "Which HTML tag is used to define an internal style sheet?", options: ["<css>", "<style>", "<script>", "<link>"], answer: 1 },
            { q: "What is the correct HTML element for inserting a line break?", options: ["<lb>", "<break>", "<br>", "<line>"], answer: 2 },
            { q: "Which attribute specifies an alternate text for an image if the image cannot be displayed?", options: ["src", "alt", "title", "href"], answer: 1 },
            { q: "Which HTML element is used to display a scalar measurement within a range?", options: ["<meter>", "<progress>", "<range>", "<scale>"], answer: 0 },
            { q: "How can you make a numbered list in HTML?", options: ["<ul>", "<ol>", "<li>", "<dl>"], answer: 1 },
            { q: "Which HTML tag is used to define an unordered list?", options: ["<ul>", "<ol>", "<li>", "<dl>"], answer: 0 },
            { q: "Which tag is used to display a table in HTML?", options: ["<table>", "<tr>", "<td>", "<th>"], answer: 0 },
            { q: "Which HTML element is used for a definition list?", options: ["<ul>", "<ol>", "<dl>", "<li>"], answer: 2 },
            { q: "Which HTML tag is used to define a table header?", options: ["<th>", "<td>", "<tr>", "<head>"], answer: 0 },
            { q: "What is the default value of the position property in CSS?", options: ["static", "relative", "absolute", "fixed"], answer: 0 },
            { q: "How can you include a CSS file in an HTML document?", options: ["<style>", "<link>", "<css>", "<script>"], answer: 1 },
            { q: "What is the correct HTML element for inserting an image?", options: ["<img>", "<image>", "<picture>", "<src>"], answer: 0 },
            { q: "Which attribute is used to define the destination of a link in HTML?", options: ["href", "src", "link", "url"], answer: 0 },
            { q: "How do you make a hyperlink open in a new tab in HTML?", options: ["target=\"_blank\"", "target=\"_new\"", "target=\"_self\"", "target=\"_parent\""], answer: 0 },
            { q: "What tag is used to define a footer in HTML5?", options: ["<footer>", "<bottom>", "<foot>", "<end>"], answer: 0 },
            { q: "Which HTML tag is used to define an input field?", options: ["<input>", "<text>", "<field>", "<form>"], answer: 0 },
            { q: "Which tag is used to define a text area in HTML?", options: ["<textarea>", "<input>", "<text>", "<field>"], answer: 0 },
            { q: "Which attribute is used to specify alternative text for an image in HTML?", options: ["alt", "title", "src", "href"], answer: 0 },
            { q: "Which HTML tag is used to define a hyperlink?", options: ["<a>", "<link>", "<href>", "<hyperlink>"], answer: 0 },
            { q: "Which tag is used to define a row in an HTML table?", options: ["<tr>", "<td>", "<th>", "<row>"], answer: 0 },
            { q: "Which tag is used to define a table cell in HTML?", options: ["<td>", "<tr>", "<th>", "<cell>"], answer: 0 },
            { q: "Which tag is used to create a line break in HTML?", options: ["<br>", "<lb>", "<break>", "<line>"], answer: 0 },
            { q: "Which HTML tag is used to define the header of a table?", options: ["<th>", "<td>", "<tr>", "<header>"], answer: 0 },
            { q: "Which tag is used to define a description list in HTML?", options: ["<dl>", "<ul>", "<ol>", "<list>"], answer: 0 },
            { q: "Which tag is used to create a division or section in an HTML document?", options: ["<div>", "<section>", "<span>", "<part>"], answer: 0 },
            { q: "Which HTML tag is used to define an unordered list in HTML?", options: ["<ul>", "<ol>", "<li>", "<list>"], answer: 0 },
            { q: "Which tag is used to display an image in HTML?", options: ["<img>", "<image>", "<picture>", "<src>"], answer: 0 },
            { q: "Which tag is used to define a table header in HTML?", options: ["<th>", "<td>", "<tr>", "<header>"], answer: 0 },
            { q: "What is the correct HTML tag for inserting a line break?", options: ["<br>", "<lb>", "<break>", "<line>"], answer: 0 },
            { q: "Which tag is used to define a hyperlink in HTML?", options: ["<a>", "<link>", "<href>", "<hyperlink>"], answer: 0 },
            { q: "Which HTML attribute is used to specify the URL of an image?", options: ["src", "href", "url", "link"], answer: 0 },
            { q: "Which tag is used to create a dropdown list in HTML?", options: ["<select>", "<dropdown>", "<option>", "<list>"], answer: 0 },
            { q: "Which HTML tag is used to define the body of a document?", options: ["<body>", "<html>", "<head>", "<main>"], answer: 0 },
            { q: "What does the <meta> tag do in HTML?", options: ["Defines metadata about the document", "Defines a section of the document", "Defines a link to an external resource", "Defines a paragraph of text"], answer: 0 },
            { q: "Which tag is used to define a footer in HTML?", options: ["<footer>", "<bottom>", "<foot>", "<end>"], answer: 0 },
            { q: "What does the <link> tag define in an HTML document?", options: ["A link to an external resource", "A hyperlink to another page", "A link to a CSS file", "A link to a JavaScript file"], answer: 0 },
            { q: "What is the purpose of the <iframe> tag in HTML?", options: ["To embed another document within the current HTML document", "To create a frame around an image", "To define a section of the document", "To create a hyperlink"], answer: 0 },
            { q: "What does the <meta> tag define in an HTML document?", options: ["Metadata about the document", "A section of the document", "A link to an external resource", "A paragraph of text"], answer: 0 },
            { q: "Which tag is used to define a form in HTML?", options: ["<form>", "<input>", "<fieldset>", "<submit>"], answer: 0 },
            { q: "Which tag is used to define a clickable button in HTML?", options: ["<button>", "<input>", "<click>", "<submit>"], answer: 0 },
            { q: "Which attribute is used to define the width of an image in HTML?", options: ["width", "height", "size", "dimension"], answer: 0 },
            { q: "What is the correct way to add a background color in HTML?", options: ["<body style=\"background-color:yellow;\">", "<body bgcolor=\"yellow\">", "<background color=\"yellow\">", "<body color=\"yellow\">"], answer: 0 },
            { q: "Which attribute is used to define the type of an <input> element in an HTML form?", options: ["type", "input", "name", "value"], answer: 0 },
            { q: "How do you create an ordered list in HTML?", options: ["<ol>", "<ul>", "<li>", "<list>"], answer: 0 },
            { q: "Which tag is used to define a table in HTML?", options: ["<table>", "<tr>", "<td>", "<th>"], answer: 0 },
            { q: "Which tag is used to define an HTML paragraph?", options: ["<p>", "<para>", "<paragraph>", "<text>"], answer: 0 },
            { q: "What is the purpose of the <title> tag in HTML?", options: ["To define the title of the document", "To define a heading in the document", "To define a paragraph in the document", "To define a link in the document"], answer: 0 },
            { q: "Which attribute is used to specify the image source in HTML?", options: ["src", "href", "link", "url"], answer: 0 },
            { q: "Which of the following tags is used to display a table heading?", options: ["<th>", "<td>", "<tr>", "<thead>"], answer: 0 },
            { q: "Which HTML element is used to define a division or section?", options: ["<div>", "<section>", "<span>", "<part>"], answer: 0 },
            { q: "What is the default value of the <li> tag's list-style-type?", options: ["disc", "circle", "square", "none"], answer: 0 },
            { q: "Which tag is used to add a comment in an HTML document?", options: ["<!-- -->", "<comment>", "<cmt>", "<note>"], answer: 0 },
            { q: "Which tag is used to define an input field in an HTML form?", options: ["<input>", "<text>", "<field>", "<form>"], answer: 0 },
            { q: "Which HTML tag is used to define a checkbox?", options: ["<input type=\"checkbox\">", "<checkbox>", "<check>", "<input type=\"check\">"], answer: 0 },
            { q: "Which of the following tags is used to create an unordered list?", options: ["<ul>", "<ol>", "<li>", "<list>"], answer: 0 },
            { q: "What tag is used to render an image on a webpage?", options: ["<img>", "<image>", "<picture>", "<src>"], answer: 0 },
            { q: "What is the specialty of the <small> and <big> tags in HTML?", options: ["They change the font size of text", "They are used for semantic markup", "They are deprecated in HTML5", "They are used for creating buttons"], answer: 2 },
            { q: "Which attribute is used to provide a unique name to an HTML element?", options: ["id", "name", "class", "unique"], answer: 0 },
            { q: "Which HTML element is used to define description data?", options: ["<dd>", "<dl>", "<dt>", "<dfn>"], answer: 0 },
            { q: "Which HTML tag is used to set up a JavaScript-like client-side scripting language?", options: ["<script>", "<js>", "<javascript>", "<code>"], answer: 0 },
            { q: "Which of the following is the correct syntax for using the HTML style attribute?", options: ["<p style=\"color: red;\">", "<p style=\"color=red;\">", "<p style=\"color:red\">", "<p style=\"color red;\">"], answer: 0 },
            { q: "Which HTML5 element is used to define navigation links?", options: ["<nav>", "<navigate>", "<links>", "<navigation>"], answer: 0 },
            { q: "What is the purpose of the <meta> tag in HTML?", options: ["To define metadata about the document", "To define a section of the document", "To define a link to an external resource", "To define a paragraph of text"], answer: 0 },
            { q: "Which attribute is used to open a hyperlink in a new tab?", options: ["target=\"_blank\"", "target=\"_new\"", "target=\"_tab\"", "target=\"_window\""], answer: 0 },
            { q: "Which HTML element is used to embed a video in a webpage?", options: ["<video>", "<media>", "<embed>", "<movie>"], answer: 0 },
            { q: "Which HTML tag is used to define a footer for a document or section?", options: ["<footer>", "<bottom>", "<foot>", "<end>"], answer: 0 },
            { q: "What is the correct way to make text italic in HTML?", options: ["<i>", "<italic>", "<em>", "<style=\"font-style: italic;\">"], answer: 0 },
            { q: "Which HTML5 tag is used to define an independent piece of content?", options: ["<article>", "<section>", "<div>", "<content>"], answer: 0 },
            { q: "What is the purpose of the <details> tag in HTML5?", options: ["To create a collapsible section", "To define a list of details", "To provide additional information", "To define a table of contents"], answer: 0 },
            { q: "Which tag is used to represent the progress of a task in HTML5?", options: ["<progress>", "<meter>", "<task>", "<status>"], answer: 0 },
            { q: "Which HTML tag is used to define a section that contains contact information?", options: ["<address>", "<contact>", "<info>", "<details>"], answer: 0 },
            { q: "Which HTML5 tag is used to define a container for external content like advertisements?", options: ["<aside>", "<ad>", "<external>", "<container>"], answer: 0 },
            { q: "What is the purpose of the <mark> tag in HTML5?", options: ["To highlight text", "To mark a section of text", "To define a bookmark", "To create a marker"], answer: 0 },
            { q: "Which HTML5 tag is used to define a user-input control in a form?", options: ["<input>", "<control>", "<userinput>", "<form>"], answer: 0 },
            { q: "What is the function of the <wbr> tag in HTML?", options: ["To define a word break opportunity", "To create a line break", "To define a space", "To wrap text"], answer: 0 },
            { q: "Which tag is used to group related options in a <select> dropdown?", options: ["<optgroup>", "<group>", "<optiongroup>", "<selectgroup>"], answer: 0 },
            { q: "What does the <noscript> tag do?", options: ["Provides alternative content when JavaScript is disabled", "Defines a section of non-scriptable content", "Prevents scripts from running", "Defines a script that does not execute"], answer: 0 },
            { q: "Which HTML tag is used to define a time and date?", options: ["<time>", "<datetime>", "<date>", "<timestamp>"], answer: 0 },
            { q: "Which HTML tag is used to define the structure of a document outline?", options: ["<section>", "<outline>", "<article>", "<hgroup>"], answer: 0 },
            { q: "Which tag represents a self-contained piece of content that can be independently distributed or reused?", options: ["<article>", "<section>", "<div>", "<content>"], answer: 0 },
            { q: "What is the purpose of the <template> tag in HTML?", options: ["To define reusable HTML content", "To create a placeholder for dynamic content", "To define a template for JavaScript", "To define a structure for a webpage"], answer: 0 },
            { q: "Which tag is used to define an interactive area within an image map?", options: ["<area>", "<map>", "<interactive>", "<clickable>"], answer: 0 },
            { q: "What does the <track> tag do in HTML?", options: ["Adds subtitles or captions to media", "Tracks user interactions", "Defines a track for animations", "Adds metadata to a video"], answer: 0 },
            { q: "Which HTML tag is used to define important text?", options: ["<strong>", "<important>", "<bold>", "<em>"], answer: 0 },
            { q: "What is the purpose of the <details> and <summary> tags in HTML?", options: ["To create a collapsible section", "To define a summary of a document", "To provide additional details about content", "To define a table of contents"], answer: 0 },
            { q: "Which HTML tag is used to define navigation links?", options: ["<nav>", "<links>", "<navigate>", "<navigation>"], answer: 0 },
            { q: "Which HTML tag is used to represent the result of a calculation?", options: ["<output>", "<result>", "<calculation>", "<math>"], answer: 0 },
            { q: "What is the purpose of the <mark> tag in HTML?", options: ["To highlight text", "To mark a section of text", "To define a bookmark", "To create a marker"], answer: 0 },
            { q: "Which HTML tag is used to group multiple options in a dropdown list?", options: ["<optgroup>", "<group>", "<optiongroup>", "<selectgroup>"], answer: 0 },
            { q: "Which HTML tag is used for adding contact information about a document?", options: ["<address>", "<contact>", "<info>", "<details>"], answer: 0 },
            { q: "What is the purpose of the <datalist> tag in HTML?", options: ["To provide a list of predefined options for an input field", "To define a list of data", "To create a dropdown list", "To define a list of options for a select element"], answer: 0 },
            { q: "Which HTML tag is used to specify a term that should be defined within the content?", options: ["<dfn>", "<term>", "<define>", "<meaning>"], answer: 0 },
            { q: "Which HTML element is used to specify text that should be displayed as a progress indicator?", options: ["<progress>", "<meter>", "<status>", "<indicator>"], answer: 0 },
            { q: "Which HTML tag is used to represent a self-contained piece of content, such as a blog post?", options: ["<article>", "<section>", "<content>", "<post>"], answer: 0 },
            { q: "Which HTML tag is used to embed a video file on a webpage?", options: ["<video>", "<media>", "<embed>", "<movie>"], answer: 0 }
        ];

        const pythonQuestionBank = [
            { q: "What is the correct file extension for Python files?", options: [".py", ".python", ".pt", ".pyt"], answer: 0 },
            { q: "How do you create a comment in Python?", options: ["// comment", "/* comment */", "# comment", "<!-- comment -->"], answer: 2 },
            { q: "Which function is used to get the length of a list?", options: ["count()", "size()", "len()", "length()"], answer: 2 },
            { q: "What is the output of len('hello')?", options: ["4", "5", "6", "None"], answer: 1 },
            { q: "Which data type is immutable?", options: ["list", "dict", "tuple", "set"], answer: 2 },
            { q: "How do you install a package with pip?", options: ["pip add flask", "pip install flask", "pip get flask", "pip fetch flask"], answer: 1 },
            { q: "Which keyword defines a function?", options: ["func", "def", "function", "lambda"], answer: 1 },
            { q: "What does PEP 8 refer to?", options: ["Python Enhancement Proposal for style", "Package manager", "Debugging tool", "Virtual environment"], answer: 0 },
            { q: "What is the result of 10 // 3?", options: ["3", "3.3", "4", "3.33"], answer: 0 },
            { q: "Which statement handles exceptions?", options: ["try/except", "if/else", "switch", "handle/catch"], answer: 0 },
            { q: "How do you create a virtual environment (Python 3)?", options: ["python -m venv env", "pip venv env", "py create env", "python make env"], answer: 0 },
            { q: "Which module is used for HTTP requests?", options: ["requests", "httpclient", "urllib3", "fetch"], answer: 0 },
            { q: "What is a list comprehension?", options: ["Loop that modifies dict", "Concise way to create lists", "Debugging tool", "String formatter"], answer: 1 },
            { q: "How do you open a file for reading?", options: ["open('file', 'r')", "file.open('r')", "read('file')", "load('file')"], answer: 0 },
            { q: "Which keyword creates a class?", options: ["class", "object", "struct", "type"], answer: 0 },
            { q: "What is __init__ used for?", options: ["Module import", "Object constructor", "Destructor", "Decorator"], answer: 1 },
            { q: "Which collection does not allow duplicates?", options: ["list", "tuple", "set", "dict"], answer: 2 },
            { q: "How do you merge two lists a and b?", options: ["a.add(b)", "a + b", "merge(a,b)", "append(b)"], answer: 1 },
            { q: "What is the output type of range(5)?", options: ["list", "tuple", "range object", "generator"], answer: 2 },
            { q: "How do you handle resources safely when opening files?", options: ["try/finally", "with statement", "manual close only", "context()"], answer: 1 },
            { q: "What does pip freeze do?", options: ["Removes packages", "Lists installed packages", "Updates pip", "Creates venv"], answer: 1 },
            { q: "Which operator checks identity?", options: ["==", "is", "===", "eq"], answer: 1 },
            { q: "What does list.append(x) do?", options: ["Adds x to end", "Adds x to start", "Removes x", "Sorts list"], answer: 0 },
            { q: "What is a docstring?", options: ["Runtime error", "String that documents code", "Type hint", "Command-line arg"], answer: 1 },
            { q: "Which library is used for data analysis?", options: ["flask", "pandas", "django", "sqlalchemy"], answer: 1 },
            { q: "How do you create a virtual environment with pipenv?", options: ["pipenv shell", "pipenv install", "pipenv run", "pipenv venv"], answer: 0 },
            { q: "What is the purpose of __name__ == '__main__'?", options: ["Defines class", "Runs code when executed directly", "Imports modules", "Starts server"], answer: 1 },
            { q: "Which keyword is used for inheritance?", options: ["inherits", "extends", "class Child(Parent)", "using"], answer: 2 },
            { q: "What does enumerate() return?", options: ["Index and value pairs", "Only values", "Only indexes", "Sorted list"], answer: 0 },
            { q: "What is a generator?", options: ["Returns list", "Function that yields values lazily", "Class instance", "Iterator over dict only"], answer: 1 },
            { q: "How do you install project dependencies from requirements.txt?", options: ["pip add -r requirements.txt", "pip install -r requirements.txt", "pip get requirements.txt", "pip load requirements.txt"], answer: 1 },
            { q: "Which module helps with unit testing?", options: ["unittest", "pytest", "doctest", "All of these"], answer: 3 },
            { q: "What is f-string syntax?", options: ["'Hello {}'.format(name)", "f'Hello {name}'", "format('Hello')", "%s formatting"], answer: 1 },
            { q: "How do you create a dictionary literal?", options: ["[]", "()", "{}", "<>"], answer: 2 },
            { q: "Which library is common for building APIs?", options: ["FastAPI", "NumPy", "Matplotlib", "BeautifulSoup"], answer: 0 },
            { q: "What does break do inside a loop?", options: ["Skips iteration", "Exits loop", "Restarts loop", "Pauses loop"], answer: 1 },
            { q: "How do you format strings with placeholders?", options: ["string.replace()", "format()", "concat()", "sprintf()"], answer: 1 }
        ];

        const frontEndQuestionBank = [
            { q: "Which tag defines the main content area?", options: ["<main>", "<section>", "<article>", "<div>"], answer: 0 },
            { q: "Which CSS property controls layout direction in flex?", options: ["flex-direction", "justify-content", "align-items", "display"], answer: 0 },
            { q: "What does CSS stand for?", options: ["Cascading Style Sheets", "Creative Style Syntax", "Colorful Style System", "Coded Style Sheets"], answer: 0 },
            { q: "How do you select an element with id 'hero' in CSS?", options: [".hero", "#hero", "hero", "*hero"], answer: 1 },
            { q: "Which unit is responsive to root font size?", options: ["px", "em", "rem", "%"], answer: 2 },
            { q: "What does the alt attribute provide?", options: ["SEO tags", "Image description text", "Image width", "Caption"], answer: 1 },
            { q: "Which HTML tag is semantic for navigation?", options: ["<nav>", "<menu>", "<aside>", "<header>"], answer: 0 },
            { q: "How do you center content horizontally with flex?", options: ["align-items: center", "justify-content: center", "text-align: center", "margin: auto"], answer: 1 },
            { q: "Which property creates grid columns?", options: ["grid-template-columns", "grid-columns", "columns", "grid-col"], answer: 0 },
            { q: "What does DOM stand for?", options: ["Document Object Model", "Data Object Map", "DOM Model", "Document Output Manager"], answer: 0 },
            { q: "Which method adds a click listener?", options: ["element.onClick()", "element.addEventListener('click', fn)", "element.clickListener(fn)", "element.addClick(fn)"], answer: 1 },
            { q: "What is event bubbling?", options: ["Events moving up the DOM tree", "Events moving down", "Events stopping", "Events cloning"], answer: 0 },
            { q: "How do you prevent default form submission?", options: ["return false", "event.preventDefault()", "event.stop()", "event.cancel()"], answer: 1 },
            { q: "Which HTTP status means Not Found?", options: ["200", "301", "404", "500"], answer: 2 },
            { q: "What is the purpose of aria-label?", options: ["Styling", "Accessibility text", "Animation", "SEO"], answer: 1 },
            { q: "Which tool bundles front-end assets?", options: ["Webpack", "Nodemon", "Postman", "Git"], answer: 0 },
            { q: "What does React use instead of real DOM?", options: ["Virtual DOM", "Shadow DOM", "Fake DOM", "Canvas"], answer: 0 },
            { q: "How do you create a React component?", options: ["function Component(){return <div></div>}", "component()", "new Component()", "create.component"], answer: 0 },
            { q: "Which hook manages state in React?", options: ["useEffect", "useState", "useMemo", "useRef"], answer: 1 },
            { q: "What does CSR stand for?", options: ["Client-Side Rendering", "Content Secure Rendering", "Code Style Rules", "Client Server Routing"], answer: 0 },
            { q: "What is a SPA?", options: ["Single Page Application", "Server Page App", "Simple Page Architecture", "Static Page Assembly"], answer: 0 },
            { q: "Which CSS property sets spacing inside a box?", options: ["margin", "padding", "gap", "space"], answer: 1 },
            { q: "How do you load external CSS?", options: ["<style src='style.css'>", "<link rel='stylesheet' href='style.css'>", "<css file='style.css'>", "<script src='style.css'>"], answer: 1 },
            { q: "Which method fetches JSON?", options: ["fetch(url).json()", "fetch(url).then(r => r.json())", "getJSON(url)", "ajaxJSON(url)"], answer: 1 },
            { q: "What is the purpose of ESLint?", options: ["Testing", "Bundling", "Linting code quality", "Styling"], answer: 2 },
            { q: "Which CSS feature enables responsive adjustments?", options: ["@media queries", "@keyframes", "@responsive", "@grid"], answer: 0 },
            { q: "How do you improve web performance?", options: ["Optimize images", "Use caching", "Minify assets", "All of these"], answer: 3 },
            { q: "What is hydration in React?", options: ["Adding water", "Attaching events to server-rendered HTML", "Caching data", "Lazy loading"], answer: 1 },
            { q: "Which attribute enables lazy loading images?", options: ["lazy", "loading='lazy'", "defer", "delay"], answer: 1 },
            { q: "What does Lighthouse audit?", options: ["Performance, accessibility, SEO", "Only SEO", "Only security", "Only UI"], answer: 0 },
            { q: "Which color format supports alpha?", options: ["hex", "rgb", "rgba", "hsl"], answer: 2 },
            { q: "What is CORS?", options: ["Cross-Origin Resource Sharing", "Content Origin Routing System", "Cross Operation Request Service", "Cache Origin Resource"], answer: 0 },
            { q: "How do you version-control front-end code?", options: ["SVN", "Git", "FTP", "ZIP"], answer: 1 },
            { q: "What is a design system?", options: ["Icon set", "Reusable UI components and guidelines", "CSS reset", "Grid only"], answer: 1 },
            { q: "Which HTML element is best for main navigation?", options: ["<nav>", "<aside>", "<footer>", "<main>"], answer: 0 },
            { q: "What is CLS in web vitals?", options: ["Cumulative Layout Shift", "Content Load Speed", "Client Latency Score", "Cache Load State"], answer: 0 },
            { q: "Which tool tests React components?", options: ["Jest", "Mocha", "Cypress", "All of these"], answer: 3 }
        ];

        const fullStackQuestionBank = [
            { q: "What does CRUD stand for?", options: ["Create, Read, Update, Delete", "Copy, Run, Undo, Deploy", "Create, Render, Upload, Deploy", "Call, Read, Update, Deploy"], answer: 0 },
            { q: "Which HTTP verb is idempotent?", options: ["POST", "PATCH", "PUT", "CONNECT"], answer: 2 },
            { q: "What is REST?", options: ["Representational State Transfer", "Remote Server Transaction", "Resource Server Transport", "Runtime Service Transfer"], answer: 0 },
            { q: "Which status code means Created?", options: ["200", "201", "204", "404"], answer: 1 },
            { q: "What is JWT used for?", options: ["Styling", "Authentication tokens", "Database queries", "Caching"], answer: 1 },
            { q: "Which database is document-oriented?", options: ["MySQL", "PostgreSQL", "MongoDB", "SQLite"], answer: 2 },
            { q: "What is ORM?", options: ["Object Relational Mapping", "Object Runtime Manager", "Open Resource Model", "Object Request Manager"], answer: 0 },
            { q: "Which command initializes git?", options: ["git start", "git init", "git new", "git create"], answer: 1 },
            { q: "What does npm run build do in React apps?", options: ["Starts dev server", "Runs tests", "Creates production bundle", "Installs deps"], answer: 2 },
            { q: "What is middleware in Express?", options: ["Database layer", "Functions that run between request and response", "CSS injector", "Testing hook"], answer: 1 },
            { q: "Which command installs package and saves to dependencies?", options: ["npm install package", "npm install --save package", "npm add package", "All of these"], answer: 3 },
            { q: "What is the purpose of .env files?", options: ["Store environment configuration", "Store logs", "Store assets", "Store routes"], answer: 0 },
            { q: "Which tool is used for containerization?", options: ["Docker", "Nginx", "Git", "PM2"], answer: 0 },
            { q: "What does CI/CD stand for?", options: ["Continuous Integration/Continuous Delivery", "Code Integration/Code Deployment", "Continuous Inspection/Continuous Debugging", "Code Iteration/Container Deployment"], answer: 0 },
            { q: "Which protocol secures HTTP?", options: ["FTP", "SSH", "HTTPS", "SMTP"], answer: 2 },
            { q: "What is CORS mainly about?", options: ["Cross-domain requests", "CSS styles", "Database replication", "Caching"], answer: 0 },
            { q: "Which library manages state in React apps?", options: ["Redux", "Axios", "Lodash", "Helmet"], answer: 0 },
            { q: "How do you create a new Express app?", options: ["express create", "npx express-generator", "npm express new", "node express init"], answer: 1 },
            { q: "What does 500 status code mean?", options: ["Server error", "Bad request", "Unauthorized", "Redirect"], answer: 0 },
            { q: "What is GraphQL?", options: ["Database", "API query language", "CSS framework", "CI tool"], answer: 1 },
            { q: "Which storage is key-value and in-memory?", options: ["Redis", "PostgreSQL", "MongoDB", "MySQL"], answer: 0 },
            { q: "What is rate limiting used for?", options: ["Speeding responses", "Restricting requests to prevent abuse", "Compressing assets", "DNS lookup"], answer: 1 },
            { q: "Which test ensures entire flows work?", options: ["Unit test", "Integration test", "Lint test", "Type test"], answer: 1 },
            { q: "What does npm start typically do?", options: ["Runs production", "Runs development server", "Runs tests", "Builds bundle"], answer: 1 },
            { q: "Which header carries bearer token?", options: ["X-Auth", "Authorization", "Auth-Token", "Cookie"], answer: 1 },
            { q: "What is a reverse proxy commonly used for?", options: ["Serve databases", "Front client requests and route to services", "Compile code", "Lint code"], answer: 1 },
            { q: "Which package handles environment variables in Node?", options: ["dotenv", "axios", "cors", "helmet"], answer: 0 },
            { q: "What is MVC?", options: ["Model View Controller", "Main View Controller", "Model Visual Code", "Managed View Container"], answer: 0 },
            { q: "Which tool monitors app logs?", options: ["Winston", "Babel", "Webpack", "ESLint"], answer: 0 },
            { q: "What is hot reloading?", options: ["Reload server on crash", "Update app without losing state", "Rebuild production", "Restart database"], answer: 1 },
            { q: "Which database uses tables and SQL?", options: ["MongoDB", "Redis", "PostgreSQL", "ElasticSearch"], answer: 2 },
            { q: "What is Dockerfile used for?", options: ["Define container image", "Store environment variables", "Run tests", "Configure git"], answer: 0 },
            { q: "What is latency?", options: ["Throughput", "Delay between request and response", "Number of users", "Cache size"], answer: 1 },
            { q: "Which HTTP method is safe and read-only?", options: ["POST", "PUT", "GET", "PATCH"], answer: 2 },
            { q: "What is Blue-Green deployment?", options: ["Colorful UI", "Two environments to switch releases", "Database backup", "API versioning"], answer: 1 },
            { q: "What is the purpose of migrations?", options: ["Deploy front-end", "Version database schema changes", "Compress assets", "Run tests"], answer: 1 }
        ];

        const backEndQuestionBank = [
            { q: "Which HTTP status code indicates unauthorized?", options: ["200", "301", "401", "500"], answer: 2 },
            { q: "What is middleware in Express?", options: ["Route handler", "Function that processes requests before handlers", "Database connector", "Template engine"], answer: 1 },
            { q: "Which library helps secure HTTP headers?", options: ["helmet", "cors", "morgan", "winston"], answer: 0 },
            { q: "What does cors middleware handle?", options: ["Compression", "Cross-origin access", "Sessions", "Static files"], answer: 1 },
            { q: "Which method handles JSON body parsing in Express 4.16+?", options: ["app.json()", "express.json()", "bodyParser.json()", "app.body()"], answer: 1 },
            { q: "What does 204 status code mean?", options: ["No Content", "Accepted", "Reset Content", "Partial Content"], answer: 0 },
            { q: "Which protocol is used for secure transfer?", options: ["HTTP", "HTTPS", "FTP", "SMTP"], answer: 1 },
            { q: "What is connection pooling?", options: ["Caching requests", "Reusing database connections", "Compressing responses", "Scaling servers"], answer: 1 },
            { q: "Which database is relational?", options: ["MongoDB", "PostgreSQL", "Redis", "Cassandra"], answer: 1 },
            { q: "What is SQL injection?", options: ["Performance issue", "Security vulnerability via crafted queries", "Logging strategy", "Cache miss"], answer: 1 },
            { q: "How do you hash passwords in Node?", options: ["bcrypt", "md5 only", "plain text", "base64"], answer: 0 },
            { q: "What is rate limiting used for?", options: ["Increase speed", "Throttle requests to protect APIs", "Cache data", "Restart server"], answer: 1 },
            { q: "Which status code is returned for validation errors?", options: ["400", "401", "409", "500"], answer: 0 },
            { q: "What is idempotency in APIs?", options: ["Same output each call", "No side effects when repeated", "Faster responses", "Encrypted responses"], answer: 1 },
            { q: "Which package manages environment variables?", options: ["dotenv", "fs", "path", "events"], answer: 0 },
            { q: "What does PM2 do?", options: ["Process manager for Node", "Database", "Queue system", "Proxy"], answer: 0 },
            { q: "What is 502 Bad Gateway usually related to?", options: ["Client error", "Server acting as gateway received invalid response", "Auth failure", "Rate limit"], answer: 1 },
            { q: "Which protocol is used for message queues?", options: ["AMQP", "SMTP", "POP3", "IMAP"], answer: 0 },
            { q: "What is caching used for?", options: ["Persist logs", "Speed responses by storing results", "Encrypt data", "Balance traffic"], answer: 1 },
            { q: "Which NoSQL DB stores key-value pairs?", options: ["Redis", "MongoDB", "Neo4j", "CouchDB"], answer: 0 },
            { q: "What does ACID stand for?", options: ["Atomicity, Consistency, Isolation, Durability", "Access, Control, Integrity, Data", "Atomicity, Cache, Index, Data", "Availability, Consistency, Isolation, Durability"], answer: 0 },
            { q: "Which log level is most severe?", options: ["info", "debug", "warn", "error"], answer: 3 },
            { q: "What is pagination used for?", options: ["Encrypt data", "Break results into pages", "Cache data", "Backup database"], answer: 1 },
            { q: "Which HTTP method should update a resource partially?", options: ["GET", "POST", "PUT", "PATCH"], answer: 3 },
            { q: "What is health check endpoint used for?", options: ["Auth", "Monitoring service availability", "Caching", "Database backups"], answer: 1 },
            { q: "What is blue-green deployment?", options: ["Two envs to swap traffic", "Logging method", "Cache strategy", "DB migration"], answer: 0 },
            { q: "Which tool is used for API documentation?", options: ["Swagger/OpenAPI", "Webpack", "Babel", "ESLint"], answer: 0 },
            { q: "What does gzip compression do?", options: ["Encrypt data", "Reduce response size", "Cache data", "Balance load"], answer: 1 },
            { q: "Which header is used for content type?", options: ["Accept", "Content-Type", "Authorization", "Cookie"], answer: 1 },
            { q: "What is circuit breaker pattern?", options: ["Database schema", "Stop calls to failing service temporarily", "Cache layer", "Retry pattern"], answer: 1 },
            { q: "Which transport is used by HTTPS?", options: ["TLS/SSL", "SSH", "SFTP", "FTP"], answer: 0 },
            { q: "What does 429 status code mean?", options: ["Too Many Requests", "Unauthorized", "Payment Required", "Conflict"], answer: 0 },
            { q: "How do you validate input in Express?", options: ["express-validator", "dotenv", "morgan", "helmet"], answer: 0 },
            { q: "What is horizontal scaling?", options: ["Add more servers", "Add more CPU to one server", "Add more RAM", "Refactor code"], answer: 0 },
            { q: "Which database is graph-based?", options: ["Neo4j", "PostgreSQL", "MongoDB", "SQLite"], answer: 0 },
            { q: "What is sticky session?", options: ["Session stored in DB", "Routing user to same server", "Session encrypted", "Session cached"], answer: 1 },
            { q: "What is API versioning?", options: ["Database version", "Managing breaking changes in APIs", "Cache version", "Log version"], answer: 1 }
        ];

        const dataScienceQuestionBank = [
            { q: "Which library is best for numerical arrays?", options: ["pandas", "numpy", "matplotlib", "requests"], answer: 1 },
            { q: "What does DataFrame represent?", options: ["Image", "2D tabular data", "Audio", "Tree"], answer: 1 },
            { q: "Which function reads CSV in pandas?", options: ["pd.load_csv", "pd.read_csv", "pd.csv", "pd.read"], answer: 1 },
            { q: "What is EDA?", options: ["Exploratory Data Analysis", "Edge Data Analytics", "External Data Audit", "Explained Data Accuracy"], answer: 0 },
            { q: "Which plot shows distribution?", options: ["Histogram", "Line chart", "Bar chart", "Pie chart"], answer: 0 },
            { q: "What is correlation range?", options: ["0 to 1", "-1 to 1", "-10 to 10", "0 to 100"], answer: 1 },
            { q: "Which library is for machine learning in Python?", options: ["scikit-learn", "seaborn", "requests", "flask"], answer: 0 },
            { q: "What is overfitting?", options: ["Model too simple", "Model memorizes training data", "Model too small", "Model uses too little data"], answer: 1 },
            { q: "Which technique splits data into train and test?", options: ["train_test_split", "split_data", "data_split", "train_split"], answer: 0 },
            { q: "What does ROC curve evaluate?", options: ["Regression error", "Classification performance", "Clustering", "Dimensionality"], answer: 1 },
            { q: "Which metric is suitable for class imbalance?", options: ["Accuracy", "Precision/Recall", "MSE", "R2"], answer: 1 },
            { q: "What is feature scaling?", options: ["Adding features", "Normalizing feature values", "Removing features", "Encoding labels"], answer: 1 },
            { q: "Which algorithm is for clustering?", options: ["K-Means", "Linear Regression", "Logistic Regression", "Decision Tree"], answer: 0 },
            { q: "What does PCA do?", options: ["Increase dimensions", "Reduce dimensionality", "Sort columns", "Clean data"], answer: 1 },
            { q: "Which plot shows correlation heatmap?", options: ["sns.heatmap", "plt.plot", "sns.barplot", "plt.scatter"], answer: 0 },
            { q: "What is a confusion matrix?", options: ["Matrix multiplication", "Table of predicted vs actual classes", "Correlation matrix", "Feature matrix"], answer: 1 },
            { q: "Which library is used for deep learning?", options: ["TensorFlow", "Matplotlib", "Seaborn", "Flask"], answer: 0 },
            { q: "What is gradient descent?", options: ["Sorting algorithm", "Optimization algorithm", "Visualization", "Encoding"], answer: 1 },
            { q: "Which evaluation metric is for regression?", options: ["MSE", "Accuracy", "F1", "AUC"], answer: 0 },
            { q: "What is k-fold cross-validation?", options: ["Splitting data into k folds for training/testing", "Building k models", "Using k clusters", "Using k features"], answer: 0 },
            { q: "Which file format is columnar?", options: ["CSV", "JSON", "Parquet", "TXT"], answer: 2 },
            { q: "What is one-hot encoding used for?", options: ["Scale numbers", "Encode categorical variables", "Impute missing values", "Normalize text"], answer: 1 },
            { q: "Which library is good for interactive dashboards?", options: ["Plotly", "Requests", "OpenCV", "Pillow"], answer: 0 },
            { q: "What is TF-IDF?", options: ["Image filter", "Text weighting scheme", "Audio codec", "Network protocol"], answer: 1 },
            { q: "Which algorithm is ensemble?", options: ["Random Forest", "KNN", "Linear Regression", "Naive Bayes"], answer: 0 },
            { q: "What does bias in models refer to?", options: ["Hardware bias", "Error from oversimplification", "Data storage", "Optimizer"], answer: 1 },
            { q: "What is variance in models?", options: ["Error from sensitivity to training data", "Mean error", "Bias", "Regularization"], answer: 0 },
            { q: "Which library handles big data with Python?", options: ["PySpark", "Requests", "Flask", "OpenCV"], answer: 0 },
            { q: "What is time series data?", options: ["Data with timestamps", "Random data", "Categorical only", "Spatial data"], answer: 0 },
            { q: "Which metric measures model interpretability for trees?", options: ["Feature importance", "Accuracy", "ROC", "RMSE"], answer: 0 },
            { q: "What is regularization used for?", options: ["Increase variance", "Prevent overfitting", "Increase dimensionality", "Remove bias"], answer: 1 },
            { q: "Which technique handles missing numeric values?", options: ["Mean/median imputation", "Drop columns always", "Fill with zeros only", "Ignore"], answer: 0 },
            { q: "What is A/B testing?", options: ["Model training", "Comparing two variants to evaluate impact", "Clustering", "Feature selection"], answer: 1 },
            { q: "Which library is used for computer vision?", options: ["OpenCV", "BeautifulSoup", "Flask", "NumPy"], answer: 0 },
            { q: "What is logistic regression used for?", options: ["Classification", "Regression", "Clustering", "Anomaly detection"], answer: 0 },
            { q: "What does RMSE measure?", options: ["Classification error", "Root mean squared error for regression", "Clustering error", "Variance"], answer: 1 },
            { q: "What is drift in deployed models?", options: ["Data distributions change over time", "Server crash", "GPU overheating", "Model compile"], answer: 0 }
        ];

        const questionBanks = {
            'HTML': htmlQuestionBank,
            'Python Developer': pythonQuestionBank,
            'Front-End Developer': frontEndQuestionBank,
            'Full Stack Developer': fullStackQuestionBank,
            'Back-End Developer': backEndQuestionBank,
            'Data Science': dataScienceQuestionBank
        };

        let quizState = {
            questions: [],
            currentIndex: 0,
            answers: [],
            attempts: 0,
            courseKey: 'HTML',
            totalQuestions: 0
        };

        const shuffleArray = (arr) => {
            const newArr = [...arr];
            for (let i = newArr.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArr[i], newArr[j]] = [newArr[j], newArr[i]];
            }
            return newArr;
        };

        const showQuizRules = (courseKey = currentCourseKey) => {
            const bank = questionBanks[courseKey];
            const courseTitle = courseData[courseKey]?.title || courseKey;
            if (!bank || bank.length === 0) {
                alert('No quiz is configured for this course yet.');
                return;
            }

            const questionsPerAttempt = Math.min(30, bank.length);
            const attemptsKey = `quiz_attempts_${courseKey}`;
            const attemptsUsed = parseInt(localStorage.getItem(attemptsKey)) || 0;
            const attemptsRemaining = Math.max(0, 3 - attemptsUsed);

            if (attemptsRemaining <= 0) {
                const content = `
                    <div style="text-align: center; padding: 30px;">
                        <h2 style="color: #ef4444; margin-bottom: 20px;">‚ùå No Attempts Remaining</h2>
                        <p style="font-size: 16px; margin-bottom: 20px;">You have exhausted all 3 attempts for the ${courseTitle} quiz.</p>
                        <button onclick="window.location.href='learning-platform.html'" style="padding: 12px 24px; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">Back to Dashboard</button>
                    </div>
                `;
                document.getElementById('quizTitle').textContent = `${courseTitle} Quiz - No Attempts Left`;
                document.getElementById('quizContent').innerHTML = content;
                document.querySelector('.quiz-actions').style.display = 'none';
                document.getElementById('quizModal').classList.add('active');
                return;
            }

            const content = `
                <div style="padding: 20px;">
                    <div style="background: linear-gradient(135deg, #2563eb 0%, #1e40af 100%); color: white; padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <h3 style="margin-bottom: 15px;">üìã ${courseTitle} Quiz Rules & Information</h3>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px;">
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                                <p style="font-size: 11px; margin-bottom: 3px;">Total Questions</p>
                                <p style="font-size: 22px; font-weight: 700; margin: 0;">${questionsPerAttempt}</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                                <p style="font-size: 11px; margin-bottom: 3px;">Total Marks</p>
                                <p style="font-size: 22px; font-weight: 700; margin: 0;">${questionsPerAttempt}</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                                <p style="font-size: 11px; margin-bottom: 3px;">Passing Score</p>
                                <p style="font-size: 22px; font-weight: 700; margin: 0;">80%</p>
                            </div>
                            <div style="background: rgba(255,255,255,0.2); padding: 12px; border-radius: 6px;">
                                <p style="font-size: 11px; margin-bottom: 3px;">Attempts Left</p>
                                <p style="font-size: 22px; font-weight: 700; margin: 0;">${attemptsRemaining}/3</p>
                            </div>
                        </div>
                    </div>

                    <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 15px; border-radius: 6px; margin-bottom: 20px;">
                        <h4 style="margin: 0 0 10px 0; color: #92400e;">‚ö†Ô∏è Important Rules:</h4>
                        <ul style="margin: 0; padding-left: 20px; color: #92400e;">
                            <li>You must score at least <strong>80%</strong> to pass</li>
                            <li>You have <strong>3 total attempts</strong></li>
                            <li>Questions are randomly selected for each attempt</li>
                            <li>Answer all questions before submitting</li>
                            <li>Certificate only available after passing</li>
                        </ul>
                    </div>

                    <div style="display: flex; gap: 10px;">
                        <button onclick="document.getElementById('quizModal').classList.remove('active');" style="flex: 1; padding: 12px; background: #e5e7eb; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Cancel</button>
                        <button onclick="startQuiz('${courseKey}');" style="flex: 1; padding: 12px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Start Quiz</button>
                    </div>
                </div>
            `;

            document.getElementById('quizTitle').textContent = `üéØ ${courseTitle} Quiz Challenge`;
            document.getElementById('quizContent').innerHTML = content;
            document.querySelector('.quiz-actions').style.display = 'none';
            document.getElementById('quizModal').classList.add('active');
        };

        const startQuiz = (courseKey = currentCourseKey) => {
            const bank = questionBanks[courseKey];
            if (!bank || bank.length === 0) {
                alert('No questions are configured for this course yet.');
                return;
            }

            const questionsPerAttempt = Math.min(30, bank.length);
            const shuffled = shuffleArray(bank);
            const selected = shuffled.slice(0, questionsPerAttempt);

            quizState.courseKey = courseKey;
            quizState.questions = selected;
            quizState.currentIndex = 0;
            quizState.answers = new Array(questionsPerAttempt).fill(null);
            quizState.totalQuestions = questionsPerAttempt;
            quizState.attempts = parseInt(localStorage.getItem(`quiz_attempts_${courseKey}`)) || 0;
            showQuestion();
        };

        const showQuestion = () => {
            const totalQuestions = quizState.totalQuestions || quizState.questions.length || 1;

            if (quizState.currentIndex >= quizState.questions.length) {
                submitQuiz();
                return;
            }

            const q = quizState.questions[quizState.currentIndex];
            const selectedAnswer = quizState.answers[quizState.currentIndex];
            
            // Calculate correct answers so far (including current if answered)
            let correctCount = 0;
            quizState.answers.forEach((ans, idx) => {
                if (ans !== null && quizState.questions[idx] && ans === quizState.questions[idx].answer) {
                    correctCount++;
                }
            });
            const progressPercent = Math.round((correctCount / totalQuestions) * 100);
            
            const optionsHTML = q.options.map((opt, idx) => {
                let optionStyle = 'background: var(--bg-light-secondary);';
                let checkIcon = '';
                
                // Escape HTML special characters
                const escapedOpt = opt
                    .replace(/&/g, '&amp;')
                    .replace(/</g, '&lt;')
                    .replace(/>/g, '&gt;')
                    .replace(/"/g, '&quot;')
                    .replace(/'/g, '&#039;');
                
                if (selectedAnswer !== null) {
                    if (idx === q.answer) {
                        optionStyle = 'background: #d1fae5; border-color: #10b981;';
                        checkIcon = '<span style="margin-left: auto; color: #10b981; font-weight: bold;">‚úÖ Correct</span>';
                    } else if (idx === selectedAnswer && selectedAnswer !== q.answer) {
                        optionStyle = 'background: #fee2e2; border-color: #ef4444;';
                        checkIcon = '<span style="margin-left: auto; color: #ef4444; font-weight: bold;">‚ùå Wrong</span>';
                    }
                }
                
                return `
                    <label style="display: flex; align-items: center; margin-bottom: 10px; padding: 10px; ${optionStyle}; border-radius: 6px; cursor: pointer; border: 2px solid transparent; transition: all 0.2s;">
                        <input type="radio" name="q_${quizState.currentIndex}" value="${idx}" ${selectedAnswer === idx ? 'checked' : ''} onchange="selectAnswer(${idx})" style="margin-right: 10px; width: 18px; height: 18px; cursor: pointer; accent-color: #2563eb;">
                        <span>(${String.fromCharCode(97 + idx)}) ${escapedOpt}</span>
                        ${checkIcon}
                    </label>
                `;
            }).join('');

            const questionText = q.q
                .replace(/&/g, '&amp;')
                .replace(/</g, '&lt;')
                .replace(/>/g, '&gt;')
                .replace(/"/g, '&quot;')
                .replace(/'/g, '&#039;');

            const content = `
                <div style="padding: 20px;">
                    <div style="background: var(--bg-light-secondary); padding: 12px; border-radius: 6px; margin-bottom: 15px; display: flex; justify-content: space-between;">
                        <span><strong>Q${quizState.currentIndex + 1}/${totalQuestions}</strong></span>
                        <span id="scoreDisplay" style="font-weight: 600; color: #10b981;">Correct: ${correctCount}/${totalQuestions} (${progressPercent}%)</span>
                    </div>
                    <div style="width: 100%; background: #e5e7eb; border-radius: 6px; height: 8px; margin-bottom: 15px; overflow: hidden;">
                        <div style="background: #10b981; height: 100%; width: ${Math.min(progressPercent, 100)}%; transition: width 0.3s ease;"></div>
                    </div>
                    <h3 style="margin-bottom: 15px;">${questionText}</h3>
                    <div style="margin-bottom: 20px;">${optionsHTML}</div>
                    ${selectedAnswer !== null ? `
                        <div style="background: ${selectedAnswer === q.answer ? '#d1fae5' : '#fee2e2'}; border-left: 4px solid ${selectedAnswer === q.answer ? '#10b981' : '#ef4444'}; padding: 12px; border-radius: 6px; margin-bottom: 15px;">
                            <p style="margin: 0; color: ${selectedAnswer === q.answer ? '#065f46' : '#991b1b'};">
                                ${selectedAnswer === q.answer ? '‚úÖ Correct Answer!' : '‚ùå Incorrect Answer! Correct answer is: <strong>' + q.options[q.answer].replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;') + '</strong>'}
                            </p>
                        </div>
                    ` : ''}
                    <div style="display: flex; gap: 10px;">
                        <button onclick="skipQuestion();" style="flex: 1; padding: 10px; background: #6b7280; color: white; border: none; border-radius: 6px; cursor: pointer;">Skip</button>
                        <button onclick="nextQuestion();" style="flex: 1; padding: 10px; background: var(--primary-color); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">${quizState.currentIndex === totalQuestions - 1 ? 'Submit' : 'Next'}</button>
                    </div>
                </div>
            `;

            document.getElementById('quizTitle').textContent = `Quiz - Question ${quizState.currentIndex + 1}/${totalQuestions}`;
            document.getElementById('quizContent').innerHTML = content;
            document.querySelector('.quiz-actions').style.display = 'none';
            document.getElementById('quizModal').classList.add('active');
        };

        window.selectAnswer = (idx) => {
            quizState.answers[quizState.currentIndex] = idx;
            showQuestion();
        };

        window.nextQuestion = () => {
            quizState.currentIndex++;
            showQuestion();
        };

        window.skipQuestion = () => {
            quizState.currentIndex++;
            showQuestion();
        };

        const submitQuiz = () => {
            const courseKey = quizState.courseKey || currentCourseKey;
            const courseTitle = courseData[courseKey]?.title || courseKey;
            const totalQuestions = quizState.totalQuestions || quizState.questions.length || 1;
            let correct = 0;
            quizState.questions.forEach((q, idx) => {
                if (quizState.answers[idx] === q.answer) correct++;
            });

            const percentage = Math.round((correct / totalQuestions) * 100);
            const passed = percentage >= 80;
            const attemptsKey = `quiz_attempts_${courseKey}`;
            let attemptsUsed = parseInt(localStorage.getItem(attemptsKey)) || 0;
            attemptsUsed++;
            localStorage.setItem(attemptsKey, attemptsUsed);

            if (passed) {
                const content = `
                    <div style="text-align: center; padding: 30px;">
                        <div style="font-size: 70px; margin-bottom: 15px;">üéâ</div>
                        <h2 style="color: #10b981; margin-bottom: 10px;">Congratulations! You Passed!</h2>
                        <div style="background: var(--bg-light-secondary); padding: 20px; border-radius: 8px; margin: 20px 0;">
                            <p style="font-size: 18px; margin: 10px 0;"><strong>Score: ${correct}/${totalQuestions} (${percentage}%)</strong></p>
                            <p style="font-size: 14px; color: #10b981;">Required: 80% | Obtained: ${percentage}%</p>
                        </div>
                        <p style="margin-bottom: 20px;">You have successfully completed the ${courseTitle} course!</p>
                        <button onclick="downloadCertificate('${courseKey}')" style="width: 100%; padding: 12px; background: #10b981; color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600; margin-bottom: 10px;">üì• Download Certificate</button>
                        <button onclick="window.location.href='learning-platform.html'" style="width: 100%; padding: 12px; background: var(--bg-light-secondary); border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Back to Dashboard</button>
                    </div>
                `;
                document.getElementById('quizTitle').textContent = '‚úÖ Quiz Passed!';
                document.getElementById('quizContent').innerHTML = content;
                document.querySelector('.quiz-actions').style.display = 'none';
                document.getElementById('quizModal').classList.add('active');
                
                // Mark course as complete
                localStorage.setItem(`progress_${courseKey}`, 100);
            } else {
                const remaining = 3 - attemptsUsed;
                if (remaining <= 0) {
                    const content = `
                        <div style="text-align: center; padding: 30px;">
                            <div style="font-size: 70px; margin-bottom: 15px;">‚ùå</div>
                            <h2 style="color: #ef4444; margin-bottom: 10px;">Quiz Failed - No Attempts Left</h2>
                            <div style="background: #fee2e2; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px; margin: 20px 0;">
                                <p style="color: #991b1b; font-size: 16px; margin: 10px 0;"><strong>Score: ${correct}/${totalQuestions} (${percentage}%)</strong></p>
                                <p style="color: #991b1b;">Required: 80% | Obtained: ${percentage}%</p>
                            </div>
                            <p style="margin-bottom: 20px;">Please review the course materials and try again later.</p>
                            <button onclick="window.location.href='learning-platform.html'" style="width: 100%; padding: 12px; background: var(--primary-color); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Back to Dashboard</button>
                        </div>
                    `;
                    document.getElementById('quizTitle').textContent = '‚ùå Quiz Failed';
                    document.getElementById('quizContent').innerHTML = content;
                    document.querySelector('.quiz-actions').style.display = 'none';
                    document.getElementById('quizModal').classList.add('active');
                } else {
                    const requiredCorrect = Math.ceil(totalQuestions * 0.8);
                    const content = `
                        <div style="text-align: center; padding: 30px;">
                            <div style="font-size: 70px; margin-bottom: 15px;">‚ùå</div>
                            <h2 style="color: #ef4444; margin-bottom: 10px;">Quiz Failed</h2>
                            <div style="background: #fee2e2; border-left: 4px solid #ef4444; padding: 20px; border-radius: 8px; margin: 20px 0;">
                                <p style="color: #991b1b; font-size: 16px; margin: 10px 0;"><strong>Score: ${correct}/${totalQuestions} (${percentage}%)</strong></p>
                                <p style="color: #991b1b;">Required: 80% (${requiredCorrect} correct) | You got: ${correct} correct</p>
                                <p style="color: #991b1b;"><strong>Need ${Math.max(requiredCorrect - correct, 0)} more correct answers</strong></p>
                            </div>
                            <div style="background: #fef3c7; border-left: 4px solid #f59e0b; padding: 12px; border-radius: 6px; margin-bottom: 20px;">
                                <p style="color: #92400e; margin: 0;"><strong>Attempts Remaining: ${remaining}/3</strong></p>
                            </div>
                            <div style="display: flex; gap: 10px;">
                                <button onclick="window.location.href='learning-platform.html'" style="flex: 1; padding: 12px; background: var(--bg-light-secondary); border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Review Course</button>
                                <button onclick="showQuizRules('${courseKey}');" style="flex: 1; padding: 12px; background: var(--primary-color); color: white; border: none; border-radius: 6px; cursor: pointer; font-weight: 600;">Retry Quiz</button>
                            </div>
                        </div>
                    `;
                    document.getElementById('quizTitle').textContent = '‚ùå Quiz Failed - Try Again';
                    document.getElementById('quizContent').innerHTML = content;
                    document.querySelector('.quiz-actions').style.display = 'none';
                    document.getElementById('quizModal').classList.add('active');
                }
            }
        };

        const showFinalAssessment = (course) => {
            const quizData = courseData[currentCourseKey].lessons[currentCourseKey + '_final_quiz'];
            
            // If no final quiz exists, show completion screen directly
            if (!quizData || !quizData.questions) {
                showCompletionCertificate(course);
                return;
            }

            // Get attempts remaining
            const attemptsKey = `attempts_${currentCourseKey}`;
            let attemptsRemaining = 3 - (parseInt(localStorage.getItem(attemptsKey)) || 0);
            
            if (attemptsRemaining <= 0) {
                showFailedAssessment(course);
                return;
            }

            let quizHTML = `
                <div style="background: var(--bg-light-secondary); padding: 15px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid var(--primary-color);">
                    <p style="margin: 5px 0; font-weight: 600;">Total Questions: ${quizData.questions.length} | Total Marks: ${quizData.totalMarks}</p>
                    <p style="margin: 5px 0; font-weight: 600;">Passing Score: ${quizData.passingPercentage}%</p>
                    <p style="margin: 5px 0; color: #f59e0b; font-weight: 600;">Attempts Remaining: ${attemptsRemaining}/3</p>
                </div>
                <div class="quiz-questions">`;
            
            quizData.questions.forEach((question, idx) => {
                quizHTML += `
                    <div class="quiz-question" style="margin-bottom: 30px;">
                        <p style="font-weight: 600; margin-bottom: 15px; font-size: 16px;">
                            <span style="background: var(--primary-color); color: white; padding: 2px 8px; border-radius: 4px; font-size: 12px; margin-right: 8px;">Q${idx + 1}/30</span>
                            ${question.q}
                        </p>
                        <div class="quiz-options" style="margin-left: 20px;">
                            ${question.options.map((option, optIdx) => `
                                <label style="display: flex; align-items: center; margin-bottom: 12px; cursor: pointer; padding: 12px; border: 2px solid var(--border-light); border-radius: 6px; background: var(--bg-light); transition: all 0.2s; color: var(--text-light);">
                                    <input type="radio" name="final_question_${idx}" value="${optIdx}" style="width: 18px; height: 18px; cursor: pointer; margin-right: 12px; accent-color: var(--primary-color);">
                                    <span style="color: var(--text-light); font-size: 15px; line-height: 1.4; margin: 0;">${option}</span>
                                </label>
                            `).join('')}
                        </div>
                    </div>
                `;
            });
            quizHTML += '</div>';

            document.getElementById('quizTitle').textContent = 'Final Assessment - ' + course.title + ' (30 Marks)';
            document.getElementById('quizContent').innerHTML = quizHTML;
            
            // Apply dark mode styling to dynamically created content
            if (body.classList.contains('dark-mode')) {
                const quizLabels = document.querySelectorAll('.quiz-options label');
                quizLabels.forEach(label => {
                    label.style.background = 'var(--bg-dark-secondary)';
                    label.style.borderColor = 'var(--border-dark)';
                    label.style.color = 'var(--text-dark)';
                    const span = label.querySelector('span');
                    if (span) span.style.color = 'var(--text-dark)';
                });
            }
            
            document.querySelector('.quiz-actions').style.display = 'flex';
            document.getElementById('quizModal').classList.add('active');

            const skipBtn = document.getElementById('skipQuiz');
            skipBtn.style.display = 'block';
            skipBtn.textContent = 'Skip Assessment';
            skipBtn.style.background = '#6b7280';

            document.getElementById('submitQuiz').textContent = 'Submit Assessment';
            document.getElementById('submitQuiz').onclick = () => {
                const answered = quizData.questions.every((q, idx) => {
                    return document.querySelector(`input[name="final_question_${idx}"]:checked`);
                });

                if (!answered) {
                    alert('Please answer all 30 questions before submitting!');
                    return;
                }

                let correctCount = 0;
                quizData.questions.forEach((question, idx) => {
                    const selectedOption = document.querySelector(`input[name="final_question_${idx}"]:checked`);
                    const selectedIdx = parseInt(selectedOption.value);
                    if (question.correct === selectedIdx) {
                        correctCount++;
                    }
                });

                const marksObtained = correctCount;
                const percentage = (correctCount / quizData.questions.length) * 100;
                const attemptsUsed = parseInt(localStorage.getItem(attemptsKey)) || 0;
                
                // Update attempts
                localStorage.setItem(attemptsKey, attemptsUsed + 1);

                // Check if passed (85% minimum)
                if (percentage < quizData.passingPercentage) {
                    const newAttemptsRemaining = 3 - (attemptsUsed + 1);
                    let message = `‚ùå Test Failed!\n\nYour Score: ${marksObtained}/30 (${Math.round(percentage)}%)\nRequired: ${quizData.passingPercentage}%\n\nAttempts Remaining: ${newAttemptsRemaining}/3`;
                    
                    if (newAttemptsRemaining <= 0) {
                        message += '\n\n‚ö†Ô∏è No more attempts available!';
                    }
                    
                    alert(message);
                    document.querySelectorAll('.quiz-questions input[type="radio"]').forEach(input => {
                        input.checked = false;
                    });
                    return;
                }

                // Passed the assessment
                document.getElementById('quizModal').classList.remove('active');
                showPassedAssessment(course, marksObtained);
            };

            skipBtn.onclick = () => {
                document.getElementById('quizModal').classList.remove('active');
                markCourseAsComplete(course);
            };
        };

        const showPassedAssessment = (course, marksObtained) => {
            const content = `
                <div style="text-align: center; padding: 30px 0;">
                    <div style="font-size: 80px; margin-bottom: 20px; animation: bounce 0.6s;">
                        ‚úÖ
                    </div>
                    <h2 style="margin-bottom: 15px; color: var(--success-color);">Congratulations!</h2>
                    <h3 style="margin-bottom: 20px;">You Passed the Assessment!</h3>
                    <div style="background: var(--bg-light-secondary); padding: 20px; border-radius: 8px; margin-bottom: 20px;">
                        <p style="font-size: 18px; margin: 10px 0;"><strong>Score: ${marksObtained}/30 Marks</strong></p>
                        <p style="font-size: 18px; margin: 10px 0; color: var(--success-color);"><strong>${Math.round((marksObtained/30)*100)}% Achieved</strong></p>
                    </div>
                    <p style="margin-bottom: 20px; font-size: 16px;">
                        You have successfully completed the <strong>${course.title}</strong> course!
                    </p>
                    <button onclick="downloadCertificate('${currentCourseKey}')" 
                        style="width: 100%; padding: 14px; background: var(--success-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-bottom: 10px; font-size: 16px;">
                        üì• Download Certificate
                    </button>
                    <button onclick="window.location.href='learning-platform.html'" 
                        style="width: 100%; padding: 14px; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;">
                        Back to Dashboard
                    </button>
                </div>
            `;
            
            const modal = document.getElementById('quizModal');
            document.getElementById('quizTitle').textContent = 'üèÜ Assessment Passed!';
            document.getElementById('quizContent').innerHTML = content;
            document.querySelector('.quiz-actions').style.display = 'none';
            modal.classList.add('active');
            
            // Mark course as complete
            markCourseAsComplete(course);
        };

        const showFailedAssessment = (course) => {
            const content = `
                <div style="text-align: center; padding: 30px 0;">
                    <div style="font-size: 80px; margin-bottom: 20px;">
                        ‚ùå
                    </div>
                    <h2 style="margin-bottom: 15px; color: #ef4444;">No Attempts Remaining</h2>
                    <div style="background: var(--bg-light-secondary); padding: 20px; border-radius: 8px; margin-bottom: 20px; border-left: 4px solid #ef4444;">
                        <p style="font-size: 16px; margin: 10px 0;">
                            You have exhausted all 3 attempts for the final assessment.
                        </p>
                        <p style="font-size: 16px; margin: 10px 0; color: #f59e0b;">
                            <strong>Required Score: 85%</strong>
                        </p>
                    </div>
                    <p style="margin-bottom: 20px; font-size: 14px;">
                        Please review the course materials and try again later, or contact support.
                    </p>
                    <button onclick="window.location.href='learning-platform.html'" 
                        style="width: 100%; padding: 14px; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; font-size: 16px;">
                        Back to Dashboard
                    </button>
                </div>
            `;
            
            const modal = document.getElementById('quizModal');
            document.getElementById('quizTitle').textContent = 'Assessment - No Attempts Left';
            document.getElementById('quizContent').innerHTML = content;
            document.querySelector('.quiz-actions').style.display = 'none';
            modal.classList.add('active');
        };

        const markCourseAsComplete = (course) => {
            localStorage.setItem(`progress_${currentCourseKey}`, 100);
            document.getElementById('progressPercent').textContent = '100%';
            const circumference = 2 * Math.PI * 35;
            const circle = document.getElementById('progressCircle');
            if (circle) {
                circle.style.strokeDashoffset = 0;
            }
            showCompletionCertificate(course);
        };

        const showCompletionCertificate = (course) => {
            const content = `
                <div style="text-align: center; padding: 20px 0;">
                    <div style="font-size: 64px; margin-bottom: 20px;">
                        <i class="fas fa-trophy" style="color: #f59e0b;"></i>
                    </div>
                    <h3 style="margin-bottom: 10px;">Congratulations! üéâ</h3>
                    <p style="margin-bottom: 20px; font-size: 16px;">
                        You have successfully completed the <strong>${course.title}</strong> course!
                    </p>
                    <button onclick="downloadCertificate('${currentCourseKey}')" 
                        style="width: 100%; padding: 12px; background: var(--primary-color); color: white; border: none; border-radius: 8px; cursor: pointer; font-weight: 600; margin-bottom: 10px;">
                        Download Certificate
                    </button>
                    <button onclick="window.location.href='learning-platform.html'" 
                        style="width: 100%; padding: 12px; background: var(--bg-light-secondary); border: none; border-radius: 8px; cursor: pointer; font-weight: 600;">
                        Back to Dashboard
                    </button>
                </div>
            `;
            
            const modal = document.getElementById('quizModal');
            document.getElementById('quizTitle').textContent = 'Course Completed!';
            document.getElementById('quizContent').innerHTML = content;
            document.querySelector('.quiz-actions').style.display = 'none';
            modal.classList.add('active');
        };

        const downloadCertificate = (courseKey) => {
            const course = courseData[courseKey];
            const cert = `
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
                    CERTIFICATE OF COMPLETION
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    
    This is to certify that
    
                        [Your Name]
    
    has successfully completed the course
    
                        ${course.title}
    
    This comprehensive course covered all essential skills and
    best practices in ${course.title.toLowerCase()}.
    
    Date: ${new Date().toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
    Certificate ID: CERT-${Math.random().toString(36).substr(2, 9).toUpperCase()}
    
    ‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê‚ïê
    `;
            
            const element = document.createElement('a');
            element.setAttribute('href', 'data:text/plain;charset=utf-8,' + encodeURIComponent(cert));
            element.setAttribute('download', `${course.title}-Certificate.txt`);
            element.style.display = 'none';
            document.body.appendChild(element);
            element.click();
            document.body.removeChild(element);
        };

        document.getElementById('markCompleteBtn').addEventListener('click', () => {
            const progress = ((currentLessonIndex + 1) / lessonsOrder.length) * 100;
            if (progress >= 95 || currentLessonIndex === lessonsOrder.length - 1) {
                completeCourse();
            } else {
                alert(`Course must be at least 95% complete to unlock this action. (${Math.round(progress)}% complete)`);
            }
        });

        const quizModal = document.getElementById('quizModal');
        document.getElementById('quizClose').addEventListener('click', () => {
            quizModal.classList.remove('active');
        });

        quizModal.addEventListener('click', (e) => {
            if (e.target === quizModal) {
                quizModal.classList.remove('active');
            }
        });

        // Add CSS animations for XP notification
        const style = document.createElement('style');
        style.textContent = `
            @keyframes slideIn {
                from {
                    transform: translateX(400px);
                    opacity: 0;
                }
                to {
                    transform: translateX(0);
                    opacity: 1;
                }
            }
            @keyframes slideOut {
                from {
                    transform: translateX(0);
                    opacity: 1;
                }
                to {
                    transform: translateX(400px);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);

        initializeTheme();
        loadCourse();

        console.log('‚úì Course learning page loaded');

        // ============================================
        // USER AUTHENTICATION - Display logged in user
        // ============================================
        (async function initUser() {
            try {
                // Import Supabase
                const { createClient } = await import("https://esm.sh/@supabase/supabase-js@2");
                const SUPABASE_URL = "https://xyakbprycadzleexjpoi.supabase.co";
                const SUPABASE_ANON_KEY = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Inh5YWticHJ5Y2FkemxlZXhqcG9pIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjI1MDAyNTMsImV4cCI6MjA3ODA3NjI1M30.z4IqtEj02jyPE9d5bKH1UP_lxRm3ZcBCUcy7t5LUvrg";
                const supabase = createClient(SUPABASE_URL, SUPABASE_ANON_KEY);

                // ‚úÖ HELPER: Add XP to user profile
                async function addXP(amount) {
                  const { data: { user } } = await supabase.auth.getUser();
                  if (!user) return;

                  // get current xp
                  const { data: profile, error } = await supabase
                    .from("profiles")
                    .select("xp")
                    .eq("id", user.id)
                    .single();

                  if (error) {
                    console.error("XP fetch error:", error);
                    return;
                  }

                  // update xp
                  await supabase
                    .from("profiles")
                    .update({
                      xp: (profile.xp || 0) + amount
                    })
                    .eq("id", user.id);
                    
                  console.log(`‚úÖ Added ${amount} XP`);
                }

                // ‚úÖ HELPER: Show XP toast notification
                function showXPToast(xp, label = "XP Earned") {
                  const container = document.getElementById("toastContainer");
                  const toast = document.createElement("div");
                  toast.className = "toast";
                  toast.innerHTML = `‚ú® ${label} <strong>+${xp} XP</strong>`;
                  container.appendChild(toast);
                  
                  setTimeout(() => {
                    toast.remove();
                  }, 3000);
                }

                // Get current user session
                const { data: { session } } = await supabase.auth.getSession();
                
                if (!session) {
                    // Not logged in - redirect to login
                    console.log("User not authenticated");
                    return;
                }

                const user = session.user;
                const userNameEl = document.getElementById('userName');
                const userAvatarEl = document.getElementById('userAvatar');
                const logoutBtn = document.getElementById('logoutBtn');

                // Get user profile to get full name
                const { data: profileData } = await supabase.from('profiles').select('name').eq('id', user.id).single();
                const fullName = profileData?.name || user.user_metadata?.name || user.email || 'User';
                const firstName = fullName.split(' ')[0];

                // Display user info
                userNameEl.textContent = firstName;
                userAvatarEl.textContent = firstName.charAt(0).toUpperCase();

                // Logout handler
                logoutBtn.addEventListener('click', async () => {
                    await supabase.auth.signOut();
                    window.location.href = 'swayam.html';
                });

                console.log('‚úì User authenticated:', firstName);
            } catch (error) {
                console.error('User auth error:', error);
                // Set default user if auth fails
                document.getElementById('userName').textContent = 'Guest';
                document.getElementById('userAvatar').textContent = 'G';
            }
        })();
    </script>

<!-- Toast Container for XP notifications -->
<div id="toastContainer"></div>

</body>
</html>
